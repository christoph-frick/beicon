(function(L){function Ga(b){return b&&b.Object===Object?b:null}function W(b){for(var a=[],c=0,d=b.length;c<d;c++)a.push(b[c]);return a}function lc(b){return function(){try{return b.apply(this,arguments)}catch(a){return n.e=a,n}}}function O(b){throw b;}function ob(){if(Ha)try{throw Error();}catch(a){var b=a.stack.split("\n"),b=0<b[0].indexOf("@")?b[1]:b[2];if(b=pb(b))return qb=b[0],b[1]}}function pb(b){var a=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(b);if(a||(a=/at ([^ ]+):(\d+):(?:\d+)$/.exec(b)))return[a[1],
Number(a[2])];if(b=/.*@(.+):(\d+)$/.exec(b))return[b[1],Number(b[2])]}function mc(b,a,c,d,e,g){var k=rb(b),q=k.length,x=rb(a).length;if(q!==x&&!d)return!1;for(var x=q,f;x--;)if(f=k[x],!(d?f in a:Ta.call(a,f)))return!1;for(var C=d;++x<q;){f=k[x];var h=b[f],n=a[f];if(void 0!==L||!c(h,n,d,e,g))return!1;C||(C="constructor"===f)}return C||(c=b.constructor,d=a.constructor,!(c!==d&&"constructor"in b&&"constructor"in a)||"function"===typeof c&&c instanceof c&&"function"===typeof d&&d instanceof d)?!0:!1}
function nc(b,a,c){switch(c){case "[object Boolean]":case "[object Date]":return+b===+a;case "[object Error]":return b.name===a.name&&b.message===a.message;case "[object Number]":return b!==+b?a!==+a:b===+a;case "[object RegExp]":case "[object String]":return b===a+""}return!1}function Ua(b){return!!b&&"object"===typeof b}function sb(b){return"number"===typeof b&&-1<b&&0===b%1&&b<=oc}function pc(b,a){for(var c=-1,d=b.length;++c<d;)if(a(b[c],c,b))return!0;return!1}function qc(b,a,c,d,e,g){var k=-1,
q=b.length,x=a.length;if(q!==x&&!(d&&x>q))return!1;for(;++k<q;){var f=b[k],x=a[k];if(void 0!==L)return!1;if(d){if(!pc(a,function(a){return f===a||c(f,a,d,e,g)}))return!1}else if(f!==x&&!c(f,x,d,e,g))return!1}return!0}function Va(b,a,c,d,e){if(b===a)return!0;if(null==b||null==a||!Ia(b)&&!Ua(a))return b!==b&&a!==a;a:{var g=tb(b),k=tb(a),q="[object Array]",x="[object Array]";g||(q=Ja.call(b),"[object Arguments]"===q?q="[object Object]":"[object Object]"!==q&&(g=Ua(b)&&sb(b.length)&&!!H[Ja.call(b)]));
k||(x=Ja.call(a),"[object Arguments]"===x&&(x="[object Object]"));var f="[object Object]"===q&&!ub(b),k="[object Object]"===x&&!ub(a),x=q===x;if(!x||g||f){if(!c&&(q=f&&Ta.call(b,"__wrapped__"),k=k&&Ta.call(a,"__wrapped__"),q||k)){b=Va(q?b.value():b,k?a.value():a,c,d,e);break a}if(x){d||(d=[]);e||(e=[]);for(q=d.length;q--;)if(d[q]===b){b=e[q]===a;break a}d.push(b);e.push(a);b=(g?qc:mc)(b,a,Va,c,d,e);d.pop();e.pop()}else b=!1}else b=nc(b,a,q)}return b}function la(b,a){for(var c=Array(b),d=0;d<b;d++)c[d]=
a();return c}function vb(b,a){this.id=b;this.value=a}function wb(b,a){this.scheduler=b;this.disposable=a;this.isDisposed=!1}function rc(b,a){a.isDisposed||(a.isDisposed=!0,a.disposable.dispose())}function Ka(b){this._s=b;this.isDisposed=!1}function xb(b){this._s=b}function Wa(b){this._s=b;this._l=b.length;this._i=0}function yb(b){this._a=b}function Xa(b){this._a=b;b=+b.length;if(isNaN(b))b=0;else if(0!==b&&"number"===typeof b&&B.isFinite(b)){var a;a=+b;a=0===a?a:isNaN(a)?a:0>a?-1:1;b=a*Math.floor(Math.abs(b));
b=0>=b?0:b>zb?zb:b}this._l=b;this._i=0}function Ab(b,a){w(b)||(b=N);return new La(a,b)}function Bb(b,a){this.observer=b;this.parent=a}function da(){return!1}function ea(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];return a}function da(){return!1}function ea(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];return a}function da(){return!1}function Ya(){return[]}function da(){return!1}function Ya(){return[]}function ea(){for(var b=arguments.length,a=Array(b),
c=0;c<b;c++)a[c]=arguments[c];return a}function sc(b){return function(a){return b.subscribe(a)}}function ma(b){return b.toArray()}function tc(b){return 0<b.length}function Cb(b,a,c){var d=I(a,c,3);return b.map(function(a,c){var k=d(a,c,b);y(k)&&(k=z(k));(sa(k)||ta(k))&&(k=Ma(k));return k}).concatAll()}function Db(b){this.comparer=b;this.set=[]}function uc(b,a){return function(c){var d=c;for(c=0;c<a;c++)if(d=d[b[c]],"undefined"===typeof d)return L;return d}}function Eb(b){if(0===b.length)throw new fa;
return b[0]}function Fb(b,a,c,d){var e=I(a,c,3);return new A(function(a){return b.subscribe(new vc(a,b,e,d))},b)}function Za(b){if(!b||r.isObservable(b))return b;if(y(b))return r.fromPromise(b);var a;a=(a=b.constructor)?"GeneratorFunction"===a.name||"GeneratorFunction"===a.displayName?!0:Gb(a.prototype):!1;return a||Gb(b)?wc.call(this,b):u(b)?xc.call(this,b):sa(b)||ta(b)?yc.call(this,b):Ia(b)?zc.call(this,b):b}function yc(b){return r.from(b).concatMap(function(a){return r.isObservable(a)||Ia(a)?Za.call(null,
a):l.Observable.just(a)}).toArray()}function zc(b){function a(a,b){c[b]=L;e.push(a.map(function(a){c[b]=a}))}for(var c=new b.constructor,d=Object.keys(b),e=[],g=0,k=d.length;g<k;g++){var q=d[g],x=Za.call(this,b[q]);x&&r.isObservable(x)?a(x,q):c[q]=b[q]}return r.forkJoin.apply(r,e).map(function(){return c})}function xc(b){var a=this;return new A(function(c){b.call(a,function(){var a=arguments[0],b=arguments[1];if(a)return c.onError(a);if(2<arguments.length){for(var a=[],b=1,g=arguments.length;b<g;b++)a.push(arguments[b]);
b=a}c.onNext(b);c.onCompleted()})})}function Gb(b){return u(b.next)&&u(b["throw"])}function Ia(b){return Object==b.constructor}function Ac(b,a,c){return function(){for(var d=arguments.length,e=Array(d),g=0;g<d;g++)e[g]=arguments[g];if(u(c)){e=m(c).apply(a,e);if(e===n)return b.onError(e.e);b.onNext(e)}else if(1>=e.length)b.onNext(e[0]);else b.onNext(e);b.onCompleted()}}function Bc(b,a,c){return function(){var d=arguments[0];if(d)return b.onError(d);for(var d=arguments.length,e=[],g=1;g<d;g++)e[g-1]=
arguments[g];if(u(c)){e=m(c).apply(a,e);if(e===n)return b.onError(e.e);b.onNext(e)}else if(1>=e.length)b.onNext(e[0]);else b.onNext(e);b.onCompleted()}}function Hb(b,a,c){this._e=b;this._n=a;this._fn=c;this._e.addEventListener(this._n,this._fn,!1);this.isDisposed=!1}function Ib(b,a,c){var d=new K,e=Object.prototype.toString.call(b),g;g=B.StaticNodeList?b instanceof B.StaticNodeList||b instanceof B.NodeList:"[object NodeList]"===Object.prototype.toString.call(b);if(g||"[object HTMLCollection]"===e)for(e=
0,g=b.length;e<g;e++)d.add(Ib(b.item(e),a,c));else b&&d.add(new Hb(b,a,c));return d}function Cc(b,a,c){return new A(function(d){function e(a,b){x[b]=a;g[b]=!0;if(k||(k=g.every(X))){if(f)return d.onError(f);var e=m(c).apply(null,x);if(e===n)return d.onError(e.e);d.onNext(e)}q&&x[1]&&d.onCompleted()}var g=[!1,!1],k=!1,q=!1,x=Array(2),f;return new D(b.subscribe(function(a){e(a,0)},function(a){if(x[1])d.onError(a);else f=a},function(){q=!0;x[1]&&d.onCompleted()}),a.subscribe(function(a){e(a,1)},function(a){d.onError(a)},
function(){q=!0;e(!0,1)}))},b)}function ma(b){return b.toArray()}function Dc(b,a){return b.groupJoin(this,a,ua,function(a,b){return b})}function Ec(b){var a=this;return new A(function(c){var d=new M,e=new K,g=new na(e);c.onNext(Y(d,g));e.add(a.subscribe(function(a){d.onNext(a)},function(a){d.onError(a);c.onError(a)},function(){d.onCompleted();c.onCompleted()}));y(b)&&(b=z(b));e.add(b.subscribe(function(a){d.onCompleted();d=new M;c.onNext(Y(d,g))},function(a){d.onError(a);c.onError(a)},function(){d.onCompleted();
c.onCompleted()}));return g},a)}function Fc(b){var a=this;return new A(function(c){function d(){var a;try{a=b()}catch(g){c.onError(g);return}y(a)&&(a=z(a));var f=new v;e.setDisposable(f);f.setDisposable(a.take(1).subscribe(J,function(a){q.onError(a);c.onError(a)},function(){q.onCompleted();q=new M;c.onNext(Y(q,k));d()}))}var e=new G,g=new K(e),k=new na(g),q=new M;c.onNext(Y(q,k));g.add(a.subscribe(function(a){q.onNext(a)},function(a){q.onError(a);c.onError(a)},function(){q.onCompleted();c.onCompleted()}));
d();return k},a)}function ea(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];return a}function Ba(b){this.patterns=b}function Jb(b,a){this.expression=b;this.selector=a}function Gc(b){return function(a){b.onError(a)}}function Hc(b,a){return function(){var c=m(b.selector).apply(b,arguments);if(c===n)return a.onError(c.e);a.onNext(c)}}function Ic(b,a,c){var d=b.get(a);return d?d:(c=new Jc(a,c),b.set(a,c),c)}function $a(b,a,c){this.joinObserverArray=b;this.onNext=a;this.onCompleted=
c;this.joinObservers=new oa;b=0;for(a=this.joinObserverArray.length;b<a;b++)c=this.joinObserverArray[b],this.joinObservers.set(c,c)}function Kb(b,a,c){return new A(function(d){var e=b,g=Lb(a);return c.scheduleRecursiveFuture(0,e,function(a,b){if(0<g){var x=c.now();e=new Date(e.getTime()+g);e.getTime()<=x&&(e=new Date(x+g))}d.onNext(a);b(a+1,new Date(e))})})}function Mb(b,a,c){return b===a?new A(function(b){return c.schedulePeriodic(0,a,function(a){b.onNext(a);return a+1})}):Ca(function(){return Kb(new Date(c.now()+
b),a,c)})}function Nb(b,a,c){return new A(function(d){var e=!1,g=new G,k=null,q=[],x=!1,f;f=b.materialize().timestamp(c).subscribe(function(b){"E"===b.value.kind?(q=[],q.push(b),k=b.value.error,b=!x):(q.push({value:b.value,timestamp:b.timestamp+a}),b=!e,e=!0);if(b)if(null!==k)d.onError(k);else b=new v,g.setDisposable(b),b.setDisposable(c.scheduleRecursiveFuture(null,a,function(a,b){var g,f,C;if(null===k){x=!0;do g=null,0<q.length&&0>=q[0].timestamp-c.now()&&(g=q.shift().value),null!==g&&g.accept(d);
while(null!==g);C=!1;f=0;0<q.length?(C=!0,f=Math.max(0,q[0].timestamp-c.now())):e=!1;g=k;x=!1;if(null!==g)d.onError(g);else C&&b(null,f)}}))});return new D(f,g)},b)}function Kc(b,a,c){return Ca(function(){return Nb(b,a-c.now(),c)})}function Lc(b,a,c){var d,e;u(a)?e=a:(d=a,e=c);return new A(function(a){function c(){C.setDisposable(b.subscribe(function(b){var c=m(e)(b);if(c===n)return a.onError(c.e);var d=new v;x.add(d);d.setDisposable(c.subscribe(function(){a.onNext(b);x.remove(d);q()},function(b){a.onError(b)},
function(){a.onNext(b);x.remove(d);q()}))},function(b){a.onError(b)},function(){f=!0;C.dispose();q()}))}function q(){f&&0===x.length&&a.onCompleted()}var x=new K,f=!1,C=new G;d?C.setDisposable(d.subscribe(c,function(b){a.onError(b)},c)):c();return new D(C,x)},this)}function Mc(b,a){return new A(function(c){var d,e=!1,g=new G,k=0,q=b.subscribe(function(b){var q=m(a)(b);if(q===n)return c.onError(q.e);y(q)&&(q=z(q));e=!0;d=b;k++;var f=k,h=new v;g.setDisposable(h);h.setDisposable(q.subscribe(function(){e&&
k===f&&c.onNext(d);e=!1;h.dispose()},function(a){c.onError(a)},function(){e&&k===f&&c.onNext(d);e=!1;h.dispose()}))},function(a){g.dispose();c.onError(a);e=!1;k++},function(){g.dispose();e&&c.onNext(d);c.onCompleted();e=!1;k++});return new D(q,g)},b)}function ma(b){return b.toArray()}function ma(b){return b.toArray()}function Ob(b,a){return new A(function(c){function d(){k&&(k=!1,c.onNext(g));e&&c.onCompleted()}var e=!1,g,k=!1,q=new v;q.setDisposable(b.subscribe(function(a){k=!0;g=a},function(a){c.onError(a)},
function(){e=!0;q.dispose()}));return new D(q,a.subscribe(d,function(a){c.onError(a)},d))},b)}function Nc(b,a,c,d){u(a)&&(d=c,c=a,a=ab());r.isObservable(d)||(d=ca(new Na));return new A(function(e){function g(a){function b(){return h=c===C}var c=C,g=new v;x.setDisposable(g);g.setDisposable(a.subscribe(function(){b()&&q.setDisposable(d.subscribe(e));g.dispose()},function(a){b()&&e.onError(a)},function(){b()&&q.setDisposable(d.subscribe(e))}))}function k(){var a=!h;a&&C++;return a}var q=new G,x=new G,
f=new v;q.setDisposable(f);var C=0,h=!1;g(a);f.setDisposable(b.subscribe(function(a){if(k()){e.onNext(a);a=m(c)(a);if(a===n)return e.onError(a.e);g(y(a)?z(a):a)}},function(a){k()&&e.onError(a)},function(){k()&&e.onCompleted()}));return new D(q,x)},b)}function Oc(b,a,c,d){w(c)&&(d=c,c=ca(new Na));c instanceof Error&&(c=ca(c));w(d)||(d=F);r.isObservable(c)||(c=ca(new Na));return new A(function(e){function g(){var b=k;C.setDisposable(d.scheduleFuture(null,a,function(){if(h=k===b)y(c)&&(c=z(c)),f.setDisposable(c.subscribe(e))}))}
var k=0,q=new v,f=new G,h=!1,C=new G;f.setDisposable(q);g();q.setDisposable(b.subscribe(function(a){h||(k++,e.onNext(a),g())},function(a){h||(k++,e.onError(a))},function(){h||(k++,e.onCompleted())}));return new D(f,C)},b)}function Pc(b){return{"@@transducer/init":function(){return b},"@@transducer/step":function(a,b){return a.onNext(b)},"@@transducer/result":function(a){return a.onCompleted()}}}function Pb(b){this.predicate=b}function Qb(b){this.predicate=b}function Da(b,a){var c=this;this.scheduler=
b;this.messages=a;this.subscriptions=[];this.observers=[];for(var d=0,e=this.messages.length;d<e;d++){var g=this.messages[d];(function(a){b.scheduleAbsolute(null,g.time,function(){for(var b=c.observers.slice(0),d=0,e=b.length;d<e;d++)a.accept(b[d]);return E})})(g.value)}}var Ea={"function":!0,object:!0},va=Ea[typeof exports]&&exports&&!exports.nodeType?exports:null,va=!1,wa=Ea[typeof module]&&module&&!module.nodeType?module:null,wa=!1,bb=Ga(va&&wa&&"object"===typeof global&&global),Qc=Ga(Ea[typeof self]&&
self),Rb=Ga(Ea[typeof window]&&window),Sb=wa&&wa.exports===va?va:null,cb=Ga(Ea[typeof this]&&this),B=bb||Rb!==(cb&&cb.window)&&Rb||Qc||cb||Function("return this")(),l={internals:{},config:{Promise:B.Promise},helpers:{}},J=l.helpers.noop=function(){},X=l.helpers.identity=function(b){return b},Tb=l.helpers.defaultNow=Date.now,Oa=l.helpers.defaultComparer=function(b,a){return Rc(b,a)},Pa=l.helpers.defaultSubComparer=function(b,a){return b>a?1:b<a?-1:0};l.helpers.defaultKeySerializer=function(b){return b.toString()};
var Sc=l.helpers.defaultError=function(b){throw b;},y=l.helpers.isPromise=function(b){return!!b&&"function"!==typeof b.subscribe&&"function"===typeof b.then},u=l.helpers.isFunction=function(){var b=function(a){return"function"==typeof a||!1};b(/x/)&&(b=function(a){return"function"==typeof a&&"[object Function]"==toString.call(a)});return b}(),n={e:{}},m=l.internals.tryCatch=function(b){if(!u(b))throw new TypeError("fn must be a function");return lc(b)},Ha=l.config.longStackSupport=!1,Ub=m(function(){throw Error();
})(),Ha=!!Ub.e&&!!Ub.e.stack,Tc=ob(),qb,fa=l.EmptyError=function(){this.message="Sequence contains no elements.";Error.call(this)};fa.prototype=Object.create(Error.prototype);fa.prototype.name="EmptyError";var db=l.ObjectDisposedError=function(){this.message="Object has been disposed";Error.call(this)};db.prototype=Object.create(Error.prototype);db.prototype.name="ObjectDisposedError";var T=l.ArgumentOutOfRangeError=function(){this.message="Argument out of range";Error.call(this)};T.prototype=Object.create(Error.prototype);
T.prototype.name="ArgumentOutOfRangeError";var xa=l.NotSupportedError=function(b){this.message=b||"This operation is not supported";Error.call(this)};xa.prototype=Object.create(Error.prototype);xa.prototype.name="NotSupportedError";var pa=l.NotImplementedError=function(b){this.message=b||"This operation is not implemented";Error.call(this)};pa.prototype=Object.create(Error.prototype);pa.prototype.name="NotImplementedError";var qa=l.helpers.notImplemented=function(){throw new pa;};l.helpers.notSupported=
function(){throw new xa;};var R="function"===typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";B.Set&&"function"===typeof(new B.Set)["@@iterator"]&&(R="@@iterator");var Qa=l.doneEnumerator={done:!0,value:L},ta=l.helpers.isIterable=function(b){return b&&b[R]!==L},sa=l.helpers.isArrayLike=function(b){return b&&b.length!==L};l.helpers.iterator=R;var I=l.internals.bindCallback=function(b,a,c){if("undefined"===typeof a)return b;switch(c){case 0:return function(){return b.call(a)};case 1:return function(c){return b.call(a,
c)};case 2:return function(c,e){return b.call(a,c,e)};case 3:return function(c,e,g){return b.call(a,c,e,g)}}return function(){return b.apply(a,arguments)}},H={};H["[object Float32Array]"]=H["[object Float64Array]"]=H["[object Int8Array]"]=H["[object Int16Array]"]=H["[object Int32Array]"]=H["[object Uint8Array]"]=H["[object Uint8ClampedArray]"]=H["[object Uint16Array]"]=H["[object Uint32Array]"]=!0;H["[object Arguments]"]=H["[object Array]"]=H["[object ArrayBuffer]"]=H["[object Boolean]"]=H["[object Date]"]=
H["[object Error]"]=H["[object Function]"]=H["[object Map]"]=H["[object Number]"]=H["[object Object]"]=H["[object RegExp]"]=H["[object Set]"]=H["[object String]"]=H["[object WeakMap]"]=!1;var Vb=Object.prototype,Ta=Vb.hasOwnProperty,Ja=Vb.toString,oc=Math.pow(2,53)-1,rb=Object.keys||function(){var b=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=c.length;
return function(e){if("object"!==typeof e&&("function"!==typeof e||null===e))throw new TypeError("Object.keys called on non-object");var g=[],k;for(k in e)b.call(e,k)&&g.push(k);if(a)for(k=0;k<d;k++)b.call(e,c[k])&&g.push(c[k]);return g}}(),Ia=l.internals.isObject=function(b){var a=typeof b;return!!b&&("object"===a||"function"===a)},ub=function(){try{Object("[object Object]")}catch(b){return function(){return!1}}return function(b){return"function"!==typeof b.toString&&"string"===typeof(b+"")}}(),
tb=Array.isArray||function(b){return Ua(b)&&sb(b.length)&&"[object Array]"===Ja.call(b)},Rc=l.internals.isEqual=function(b,a){return Va(b,a)},f=l.internals.inherits=function(b,a){function c(){this.constructor=b}c.prototype=a.prototype;b.prototype=new c},ra=l.internals.addProperties=function(b){for(var a=[],c=1,d=arguments.length;c<d;c++)a.push(arguments[c]);c=0;for(d=a.length;c<d;c++){var e=a[c],g;for(g in e)b[g]=e[g]}},Y=l.internals.addRef=function(b,a){return new A(function(c){return new D(a.getDisposable(),
b.subscribe(c))})};vb.prototype.compareTo=function(b){var a=this.value.compareTo(b.value);0===a&&(a=this.id-b.id);return a};var Fa=l.internals.PriorityQueue=function(b){this.items=Array(b);this.length=0},ga=Fa.prototype;ga.isHigherPriority=function(b,a){return 0>this.items[b].compareTo(this.items[a])};ga.percolate=function(b){if(!(b>=this.length||0>b)){var a=b-1>>1;if(!(0>a||a===b)&&this.isHigherPriority(b,a)){var c=this.items[b];this.items[b]=this.items[a];this.items[a]=c;this.percolate(a)}}};ga.heapify=
function(b){+b||(b=0);if(!(b>=this.length||0>b)){var a=2*b+1,c=2*b+2,d=b;a<this.length&&this.isHigherPriority(a,d)&&(d=a);c<this.length&&this.isHigherPriority(c,d)&&(d=c);d!==b&&(a=this.items[b],this.items[b]=this.items[d],this.items[d]=a,this.heapify(d))}};ga.peek=function(){return this.items[0].value};ga.removeAt=function(b){this.items[b]=this.items[--this.length];this.items[this.length]=L;this.heapify()};ga.dequeue=function(){var b=this.peek();this.removeAt(0);return b};ga.enqueue=function(b){var a=
this.length++;this.items[a]=new vb(Fa.count++,b);this.percolate(a)};ga.remove=function(b){for(var a=0;a<this.length;a++)if(this.items[a].value===b)return this.removeAt(a),!0;return!1};Fa.count=0;var K=l.CompositeDisposable=function(){var b=[],a,c;if(Array.isArray(arguments[0]))b=arguments[0];else for(c=arguments.length,b=Array(c),a=0;a<c;a++)b[a]=arguments[a];this.disposables=b;this.isDisposed=!1;this.length=b.length},eb=K.prototype;eb.add=function(b){this.isDisposed?b.dispose():(this.disposables.push(b),
this.length++)};eb.remove=function(b){var a=!1;if(!this.isDisposed){var c=this.disposables.indexOf(b);-1!==c&&(a=!0,this.disposables.splice(c,1),this.length--,b.dispose())}return a};eb.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var b=this.disposables.length,a=Array(b),c=0;c<b;c++)a[c]=this.disposables[c];this.disposables=[];for(c=this.length=0;c<b;c++)a[c].dispose()}};var ha=l.Disposable=function(b){this.isDisposed=!1;this.action=b||J};ha.prototype.dispose=function(){this.isDisposed||
(this.action(),this.isDisposed=!0)};var ia=ha.create=function(b){return new ha(b)},E=ha.empty={dispose:J},Uc=ha.isDisposable=function(b){return b&&u(b.dispose)},P=ha.checkDisposed=function(b){if(b.isDisposed)throw new db;},fb=ha._fixup=function(b){return Uc(b)?b:E},v=l.SingleAssignmentDisposable=function(){this.isDisposed=!1;this.current=null};v.prototype.getDisposable=function(){return this.current};v.prototype.setDisposable=function(b){if(this.current)throw Error("Disposable has already been assigned");
var a=this.isDisposed;!a&&(this.current=b);a&&b&&b.dispose()};v.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var b=this.current;this.current=null;b&&b.dispose()}};var G=l.SerialDisposable=function(){this.isDisposed=!1;this.current=null};G.prototype.getDisposable=function(){return this.current};G.prototype.setDisposable=function(b){var a=this.isDisposed;if(!a){var c=this.current;this.current=b}c&&c.dispose();a&&b&&b.dispose()};G.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=
!0;var b=this.current;this.current=null}b&&b.dispose()};var D=l.BinaryDisposable=function(b,a){this._first=b;this._second=a;this.isDisposed=!1};D.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var b=this._first;this._first=null;b&&b.dispose();b=this._second;this._second=null;b&&b.dispose()}};var Z=l.NAryDisposable=function(b){this._disposables=b;this.isDisposed=!1};Z.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var b=0,a=this._disposables.length;b<
a;b++)this._disposables[b].dispose();this._disposables.length=0}};var na=l.RefCountDisposable=function(){function b(a){this.disposable=a;this.disposable.count++;this.isInnerDisposed=!1}function a(a){this.underlyingDisposable=a;this.isPrimaryDisposed=this.isDisposed=!1;this.count=0}b.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=
!0,this.disposable.underlyingDisposable.dispose()))};a.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))};a.prototype.getDisposable=function(){return this.isDisposed?E:new b(this)};return a}();wb.prototype.dispose=function(){this.scheduler.schedule(this,rc)};var ya=l.internals.ScheduledItem=function(b,a,c,d,e){this.scheduler=b;this.state=a;this.action=c;this.dueTime=d;this.comparer=
e||Pa;this.disposable=new v};ya.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())};ya.prototype.compareTo=function(b){return this.comparer(this.dueTime,b.dueTime)};ya.prototype.isCancelled=function(){return this.disposable.isDisposed};ya.prototype.invokeCore=function(){return fb(this.action(this.scheduler,this.state))};var U=l.Scheduler=function(){function b(){}b.isScheduler=function(a){return a instanceof b};var a=b.prototype;a.schedule=function(a,b){throw new pa;};a.scheduleFuture=
function(a,d,e){d instanceof Date&&(d-=this.now());d=b.normalize(d);return 0===d?this.schedule(a,e):this._scheduleFuture(a,d,e)};a._scheduleFuture=function(a,b,e){throw new pa;};b.now=Tb;b.prototype.now=Tb;b.normalize=function(a){0>a&&(a=0);return a};return b}(),Lb=U.normalize,w=U.isScheduler;(function(b){function a(a,b){function c(b){var e=!1,k=!1,h=a.schedule(b,function(a,b){e?f.remove(h):k=!0;q(b,c);return E});k||(f.add(h),e=!0)}var k=b[0],q=b[1],f=new K;q(k,c);return f}function c(a,b){function c(b,
e){var k=!1,h=!1,n=a.scheduleFuture(b,e,function(a,b){k?f.remove(n):h=!0;q(b,c);return E});h||(f.add(n),k=!0)}var k=b[0],q=b[1],f=new K;q(k,c);return f}b.scheduleRecursive=function(b,c){return this.schedule([b,c],a)};b.scheduleRecursiveFuture=function(a,b,g){return this.scheduleFuture([a,g],b,c)}})(U.prototype);(function(b){b.schedulePeriodic=function(a,b,d){if("undefined"===typeof B.setInterval)throw new xa;b=Lb(b);var e=a,g=B.setInterval(function(){e=d(e)},b);return ia(function(){B.clearInterval(g)})}})(U.prototype);
(function(b){b.catchError=b["catch"]=function(a){return new Vc(this,a)}})(U.prototype);var Wc=l.internals.SchedulePeriodicRecursive=function(){function b(a){return function(b,e){e(0,a._period);var g=m(a._action)(a._state);g===n&&(a._cancel.dispose(),O(g.e));a._state=g}}function a(a,b,e,g){this._scheduler=a;this._state=b;this._period=e;this._action=g}a.prototype.start=function(){var a=new v;this._cancel=a;a.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,b(this)));return a};return a}(),
Xc=function(b){function a(){b.call(this)}f(a,b);a.prototype.schedule=function(a,b){return fb(b(this,a))};return a}(U),V=U.immediate=new Xc,Yc=function(b){function a(){for(;0<d.length;){var a=d.dequeue();!a.isCancelled()&&a.invoke()}}function c(){b.call(this)}var d;f(c,b);c.prototype.schedule=function(b,c){var k=new ya(this,b,c,this.now());if(d)d.enqueue(k);else{d=new Fa(4);d.enqueue(k);var q=m(a)();d=null;q===n&&O(q.e)}return k.disposable};c.prototype.scheduleRequired=function(){return!d};return c}(U),
N=U.currentThread=new Yc,za,gb,Wb=function(){var b,a=J;if(B.setTimeout)b=B.setTimeout,a=B.clearTimeout;else if(B.WScript)b=function(a,b){B.WScript.Sleep(b);a()};else throw new xa;return{setTimeout:b,clearTimeout:a}}(),hb=Wb.setTimeout,Zc=Wb.clearTimeout;(function(){function b(a){if(e)hb(function(){b(a)},0);else{var c=d[a];c&&(e=!0,c=m(c)(),gb(a),e=!1,c===n&&O(c.e))}}function a(){if(!B.postMessage||B.importScripts)return!1;var a=!1,b=B.onmessage;B.onmessage=function(){a=!0};B.postMessage("","*");B.onmessage=
b;return a}var c=1,d={},e=!1;gb=function(a){delete d[a]};var g=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),k="function"==typeof(k=bb&&Sb&&bb.setImmediate)&&!g.test(k)&&k;if(u(k))za=function(a){var e=c++;d[e]=a;k(function(){b(e)});return e};else if("undefined"!==typeof process&&"[object process]"==={}.toString.call(process))za=function(a){var e=c++;d[e]=a;process.nextTick(function(){b(e)});return e};else if(a()){var q="ms.rx.schedule"+
Math.random();B.addEventListener("message",function(a){"string"===typeof a.data&&a.data.substring(0,q.length)===q&&b(a.data.substring(q.length))},!1);za=function(a){var b=c++;d[b]=a;B.postMessage(q+currentId,"*");return b}}else if(B.MessageChannel){var f=new B.MessageChannel;f.port1.onmessage=function(a){b(a.data)};za=function(a){var b=c++;d[b]=a;f.port2.postMessage(b);return b}}else za="document"in B&&"onreadystatechange"in B.document.createElement("script")?function(a){var e=B.document.createElement("script"),
g=c++;d[g]=a;e.onreadystatechange=function(){b(g);e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};B.document.documentElement.appendChild(e);return g}:function(a){var e=c++;d[e]=a;hb(function(){b(e)},0);return e}})();var $c=function(b){function a(){b.call(this)}function c(a,b,c,d){return function(){a.setDisposable(ha._fixup(b(c,d)))}}function d(a){this._id=a;this.isDisposed=!1}function e(a){this._id=a;this.isDisposed=!1}f(a,b);d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=
!0,gb(this._id))};e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Zc(this._id))};a.prototype.schedule=function(a,b){var e=new v,f=za(c(e,b,this,a));return new D(e,new d(f))};a.prototype._scheduleFuture=function(a,b,d){if(0===b)return this.schedule(a,d);var f=new v;a=hb(c(f,d,this,a),b);return new D(f,new e(a))};return a}(U),F=U["default"]=U.async=new $c,Vc=function(b){function a(a,d){this._scheduler=a;this._handler=d;this._recursiveWrapper=this._recursiveOriginal=null;b.call(this)}
f(a,b);a.prototype.schedule=function(a,b){return this._scheduler.schedule(a,this._wrap(b))};a.prototype._scheduleFuture=function(a,b,e){return this._scheduler.schedule(a,b,this._wrap(e))};a.prototype.now=function(){return this._scheduler.now()};a.prototype._clone=function(b){return new a(b,this._handler)};a.prototype._wrap=function(a){var b=this;return function(e,g){var k=m(a)(b._getRecursiveWrapper(e),g);return k===n?(b._handler(k.e)||O(k.e),E):fb(k)}};a.prototype._getRecursiveWrapper=function(a){if(this._recursiveOriginal!==
a){this._recursiveOriginal=a;var b=this._clone(a);b._recursiveOriginal=a;this._recursiveWrapper=b._recursiveWrapper=b}return this._recursiveWrapper};a.prototype.schedulePeriodic=function(a,b,e){var g=this,k=!1,q=new v;q.setDisposable(this._scheduler.schedulePeriodic(a,b,function(a){if(k)return null;a=m(e)(a);return a===n?(k=!0,g._handler(a.e)||O(a.e),q.dispose(),null):a}));return q};return a}(U),S=l.Notification=function(){function b(){}b.prototype._accept=function(a,b,d){throw new pa;};b.prototype._acceptObserver=
function(a,b,d){throw new pa;};b.prototype.accept=function(a,b,d){return a&&"object"===typeof a?this._acceptObserver(a):this._accept(a,b,d)};b.prototype.toObservable=function(a){var b=this;w(a)||(a=V);return new A(function(d){return a.schedule(b,function(a,b){b._acceptObserver(d);"N"===b.kind&&d.onCompleted()})})};return b}(),ad=function(b){function a(a){this.value=a;this.kind="N"}f(a,b);a.prototype._accept=function(a){return a(this.value)};a.prototype._acceptObserver=function(a){return a.onNext(this.value)};
a.prototype.toString=function(){return"OnNext("+this.value+")"};return a}(S),bd=function(b){function a(a){this.error=a;this.kind="E"}f(a,b);a.prototype._accept=function(a,b){return b(this.error)};a.prototype._acceptObserver=function(a){return a.onError(this.error)};a.prototype.toString=function(){return"OnError("+this.error+")"};return a}(S),cd=function(b){function a(){this.kind="C"}f(a,b);a.prototype._accept=function(a,b,e){return e()};a.prototype._acceptObserver=function(a){return a.onCompleted()};
a.prototype.toString=function(){return"OnCompleted()"};return a}(S),Xb=S.createOnNext=function(b){return new ad(b)},Yb=S.createOnError=function(b){return new bd(b)},Zb=S.createOnCompleted=function(){return new cd},Q=l.Observer=function(){};Q.prototype.toNotifier=function(){var b=this;return function(a){return a.accept(b)}};Q.prototype.asObserver=function(){var b=this;return new ib(function(a){b.onNext(a)},function(a){b.onError(a)},function(){b.onCompleted()})};Q.prototype.checked=function(){return new dd(this)};
var ja=Q.create=function(b,a,c){b||(b=J);a||(a=Sc);c||(c=J);return new ib(b,a,c)};Q.fromNotifier=function(b,a){var c=I(b,a,1);return new ib(function(a){return c(Xb(a))},function(a){return c(Yb(a))},function(){return c(Zb())})};Q.prototype.notifyOn=function(b){return new $b(b,this)};Q.prototype.makeSafe=function(b){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,b)};var t=l.internals.AbstractObserver=function(b){function a(){this.isStopped=!1}f(a,b);a.prototype.next=qa;
a.prototype.error=qa;a.prototype.completed=qa;a.prototype.onNext=function(a){!this.isStopped&&this.next(a)};a.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.error(a))};a.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())};a.prototype.dispose=function(){this.isStopped=!0};a.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.error(a),!0)};return a}(Q),ib=l.AnonymousObserver=function(b){function a(a,d,e){b.call(this);
this._onNext=a;this._onError=d;this._onCompleted=e}f(a,b);a.prototype.next=function(a){this._onNext(a)};a.prototype.error=function(a){this._onError(a)};a.prototype.completed=function(){this._onCompleted()};return a}(t),dd=function(b){function a(a){b.call(this);this._observer=a;this._state=0}f(a,b);var c=a.prototype;c.onNext=function(a){this.checkAccess();a=m(this._observer.onNext).call(this._observer,a);this._state=0;a===n&&O(a.e)};c.onError=function(a){this.checkAccess();a=m(this._observer.onError).call(this._observer,
a);this._state=2;a===n&&O(a.e)};c.onCompleted=function(){this.checkAccess();var a=m(this._observer.onCompleted).call(this._observer);this._state=2;a===n&&O(a.e)};c.checkAccess=function(){if(1===this._state)throw Error("Re-entrancy detected");if(2===this._state)throw Error("Observer completed");0===this._state&&(this._state=1)};return a}(Q),ac=l.internals.ScheduledObserver=function(b){function a(a,c){b.call(this);this.scheduler=a;this.observer=c;this.hasFaulted=this.isAcquired=!1;this.queue=[];this.disposable=
new G}function c(a,b){return function(){a.onNext(b)}}function d(a,b){return function(){a.onError(b)}}function e(a){return function(){a.onCompleted()}}function g(a,b){var c;if(0<a.queue.length){c=a.queue.shift();c=m(c)();if(c===n)return a.queue=[],a.hasFaulted=!0,O(c.e);b(a)}else a.isAcquired=!1}f(a,b);a.prototype.next=function(a){this.queue.push(c(this.observer,a))};a.prototype.error=function(a){this.queue.push(d(this.observer,a))};a.prototype.completed=function(){this.queue.push(e(this.observer))};
a.prototype.ensureActive=function(){var a=!1;!this.hasFaulted&&0<this.queue.length&&(a=!this.isAcquired,this.isAcquired=!0);a&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,g))};a.prototype.dispose=function(){b.prototype.dispose.call(this);this.disposable.dispose()};return a}(t),$b=function(b){function a(a,d,e){b.call(this,a,d);this._cancel=e}f(a,b);a.prototype.next=function(a){b.prototype.next.call(this,a);this.ensureActive()};a.prototype.error=function(a){b.prototype.error.call(this,
a);this.ensureActive()};a.prototype.completed=function(){b.prototype.completed.call(this);this.ensureActive()};a.prototype.dispose=function(){b.prototype.dispose.call(this);this._cancel&&this._cancel.dispose();this._cancel=null};return a}(ac),h,r=l.Observable=function(){function b(a,b){return function(e){var g=e.onError;e.onError=function(b){if(Ha&&a.stack&&"object"===typeof b&&null!==b&&b.stack&&-1===b.stack.indexOf("From previous event:")){for(var d=[],f=a;f;f=f.source)f.stack&&d.unshift(f.stack);
d.unshift(b.stack);for(var d=d.join("\nFrom previous event:\n").split("\n"),f=[],h=0,C=d.length;h<C;h++){var n=d[h],m;if(m=pb(n)){var l=m[1];m=m[0]===qb&&l>=Tc&&l<=ed}else m=!1;if(m=!m)m=n,m=!(-1!==m.indexOf("(module.js:")||-1!==m.indexOf("(node.js:"));m&&n&&f.push(n)}d=f.join("\n");b.stack=d}g.call(e,b)};return b.call(a,e)}}function a(){if(l.config.longStackSupport&&Ha){var a=this._subscribe,d=m(O)(Error()).e;this.stack=d.stack.substring(d.stack.indexOf("\n")+1);this._subscribe=b(this,a)}}h=a.prototype;
a.isObservable=function(a){return a&&u(a.subscribe)};h.subscribe=h.forEach=function(a,b,e){return this._subscribe("object"===typeof a?a:ja(a,b,e))};h.subscribeOnNext=function(a,b){return this._subscribe(ja("undefined"!==typeof b?function(e){a.call(b,e)}:a))};h.subscribeOnError=function(a,b){return this._subscribe(ja(null,"undefined"!==typeof b?function(e){a.call(b,e)}:a))};h.subscribeOnCompleted=function(a,b){return this._subscribe(ja(null,null,"undefined"!==typeof b?function(){a.call(b)}:a))};return a}(),
p=l.ObservableBase=function(b){function a(a){return a&&u(a.dispose)?a:u(a)?ia(a):E}function c(b,c){var d=c[0],q=c[1],q=m(q.subscribeCore).call(q,d);q!==n||d.fail(n.e)||O(n.e);d.setDisposable(a(q))}function d(){b.call(this)}f(d,b);d.prototype._subscribe=function(a){a=new bc(a);var b=[a,this];N.scheduleRequired()?N.schedule(b,c):c(null,b);return a};d.prototype.subscribeCore=qa;return d}(r),Ra=l.FlatMapObservable=function(b){function a(a,c,g,k){this.resultSelector=u(g)?g:null;this.selector=I(u(c)?c:
function(){return c},k,3);this.source=a;b.call(this)}function c(a,b,c,k){this.i=0;this.selector=b;this.resultSelector=c;this.source=k;this.o=a;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this.selector,this.resultSelector,this))};f(c,t);c.prototype._wrapResult=function(a,b,c){return this.resultSelector?a.map(function(a,d){return this.resultSelector(b,a,c,d)},this):a};c.prototype.next=function(a){var b=this.i++,c=m(this.selector)(a,b,this.source);if(c===
n)return this.o.onError(c.e);y(c)&&(c=z(c));(sa(c)||ta(c))&&(c=r.from(c));this.o.onNext(this._wrapResult(c,a,b))};c.prototype.error=function(a){this.o.onError(a)};c.prototype.completed=function(){this.o.onCompleted()};return a}(p),ka=l.internals.Enumerable=function(){};Ka.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var fd=function(b){function a(a){this.sources=a;b.call(this)}function c(a,b){if(!a.isDisposed){var c=m(a.e.next).call(a.e);if(c===n)return a.o.onError(c.e);
if(c.done)return a.o.onCompleted();c=c.value;y(c)&&(c=z(c));var q=new v;a.subscription.setDisposable(q);q.setDisposable(c.subscribe(new d(a,b)))}}function d(a,b){this._state=a;this._recurse=b;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new G;a={isDisposed:!1,o:a,subscription:b,e:this.sources[R]()};var d=N.scheduleRecursive(a,c);return new Z([b,d,new Ka(a)])};f(d,t);d.prototype.next=function(a){this._state.o.onNext(a)};d.prototype.error=function(a){this._state.o.onError(a)};d.prototype.completed=
function(){this._recurse(this._state)};return a}(p);ka.prototype.concat=function(){return new fd(this)};var gd=function(b){function a(a){this.sources=a;b.call(this)}function c(a,b){if(!a.isDisposed){var c=m(a.e.next).call(a.e);if(c===n)return a.o.onError(c.e);if(c.done)return null!==a.lastError?a.o.onError(a.lastError):a.o.onCompleted();c=c.value;y(c)&&(c=z(c));var q=new v;a.subscription.setDisposable(q);q.setDisposable(c.subscribe(new d(a,b)))}}function d(a,b){this._state=a;this._recurse=b;t.call(this)}
f(a,b);a.prototype.subscribeCore=function(a){var b=new G;a={isDisposed:!1,e:this.sources[R](),subscription:b,lastError:null,o:a};var d=N.scheduleRecursive(a,c);return new Z([b,d,new Ka(a)])};f(d,t);d.prototype.next=function(a){this._state.o.onNext(a)};d.prototype.error=function(a){this._state.lastError=a;this._recurse(this._state)};d.prototype.completed=function(){this._state.o.onCompleted()};return a}(p);ka.prototype.catchError=function(){return new gd(this)};ka.prototype.catchErrorWhen=function(b){var a=
this;return new A(function(c){var d=new M,e=new M,g=b(d).subscribe(e),k=a[R](),q={isDisposed:!1},f=new G,h=N.scheduleRecursive(null,function(a,b){if(!q.isDisposed){var g=m(k.next).call(k);if(g===n)return c.onError(g.e);if(g.done)c.onCompleted();else{g=g.value;y(g)&&(g=z(g));var h=new v,l=new v;f.setDisposable(new D(l,h));h.setDisposable(g.subscribe(function(a){c.onNext(a)},function(a){l.setDisposable(e.subscribe(b,function(a){c.onError(a)},function(){c.onCompleted()}));d.onNext(a)},function(){c.onCompleted()}))}}});
return new Z([g,f,h,new Ka(q)])})};var hd=function(b){function a(a,b){this.v=a;this.c=null==b?-1:b}function c(a){this.v=a.v;this.l=a.c}f(a,b);a.prototype[R]=function(){return new c(this)};c.prototype.next=function(){if(0===this.l)return Qa;0<this.l&&this.l--;return{done:!1,value:this.v}};return a}(ka),jb=ka.repeat=function(b,a){return new hd(b,a)},id=function(b){function a(a,b,c){this.s=a;this.fn=b?I(b,c,3):null}function c(a){this.i=-1;this.s=a.s;this.l=this.s.length;this.fn=a.fn}f(a,b);a.prototype[R]=
function(){return new c(this)};c.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:Qa};return a}(ka),kb=ka.of=function(b,a,c){return new id(b,a,c)},jd=function(b){function a(a,d){this.source=a;this._s=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new $b(this._s,a))};return a}(p);h.observeOn=function(b){return new jd(this,b)};var kd=function(b){function a(a,c){this.source=a;this._s=
c;b.call(this)}function c(a,b){b[1].setDisposable(new wb(a,b[0].subscribe(b[2])))}f(a,b);a.prototype.subscribeCore=function(a){var b=new v,g=new G;g.setDisposable(b);b.setDisposable(this._s.schedule([this.source,g,a],c));return g};return a}(p);h.subscribeOn=function(b){return new kd(this,b)};var ld=function(b){function a(a,c){this._p=a;this._s=c;b.call(this)}function c(a,b){var c=b[0];c.onNext(b[1]);c.onCompleted()}function d(a,b){b[0].onError(b[1])}f(a,b);a.prototype.subscribeCore=function(a){var b=
new v,k=this;this._p.then(function(d){b.setDisposable(k._s.schedule([a,d],c))},function(c){b.setDisposable(k._s.schedule([a,c],d))});return b};return a}(p),z=r.fromPromise=function(b,a){a||(a=F);return new ld(b,a)};h.toPromise=function(b){b||(b=l.config.Promise);if(!b)throw new xa("Promise type not provided nor in Rx.config.Promise");var a=this;return new b(function(b,d){var e;a.subscribe(function(a){e=a},d,function(){b(e)})})};var md=function(b){function a(a){this.source=a;b.call(this)}function c(a){this.o=
a;this.a=[];t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a))};f(c,t);c.prototype.next=function(a){this.a.push(a)};c.prototype.error=function(a){this.o.onError(a)};c.prototype.completed=function(){this.o.onNext(this.a);this.o.onCompleted()};return a}(p);h.toArray=function(){return new md(this)};r.create=function(b,a){return new A(b,a)};var nd=function(b){function a(a){this._f=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=m(this._f)();
if(b===n)return ca(b.e).subscribe(a);y(b)&&(b=z(b));return b.subscribe(a)};return a}(p),Ca=r.defer=function(b){return new nd(b)},cc=function(b){function a(a){this.scheduler=a;b.call(this)}function c(a,b){this.observer=a;this.scheduler=b}function d(a,b){b.onCompleted();return E}f(a,b);a.prototype.subscribeCore=function(a){return(new c(a,this.scheduler)).run()};c.prototype.run=function(){var a=this.observer;return this.scheduler===V?d(null,a):this.scheduler.schedule(a,d)};return a}(p),od=new cc(V),
ua=r.empty=function(b){w(b)||(b=V);return b===V?od:new cc(b)},pd=function(b){function a(a,c,g){this._iterable=a;this._fn=c;this._scheduler=g;b.call(this)}function c(a,b,c){return function(k,q){var f=m(b.next).call(b);if(f===n)return a.onError(f.e);if(f.done)return a.onCompleted();f=f.value;if(u(c)&&(f=m(c)(f,k),f===n))return a.onError(f.e);a.onNext(f);q(k+1)}}f(a,b);a.prototype.subscribeCore=function(a){var b;b=Object(this._iterable);var g=b[R];if(g||"string"!==typeof b)if(g||b.length===L){if(!g)throw new TypeError("Object is not iterable");
}else b=new yb(b);else b=new xb(b);b=b[R]();return this._scheduler.scheduleRecursive(0,c(a,b,this._fn))};return a}(p),zb=Math.pow(2,53)-1;xb.prototype[R]=function(){return new Wa(this._s)};Wa.prototype[R]=function(){return this};Wa.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:Qa};yb.prototype[R]=function(){return new Xa(this._a)};Xa.prototype[R]=function(){return this};Xa.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:
Qa};var Ma=r.from=function(b,a,c,d){if(null==b)throw Error("iterable cannot be null.");if(a&&!u(a))throw Error("mapFn when provided must be a function");if(a)var e=I(a,c,2);w(d)||(d=N);return new pd(b,e,d)},La=function(b){function a(a,c){this._args=a;this._scheduler=c;b.call(this)}function c(a,b){var c=b.length;return function(k,f){if(k<c)a.onNext(b[k]),f(k+1);else a.onCompleted()}}f(a,b);a.prototype.subscribeCore=function(a){return this._scheduler.scheduleRecursive(0,c(a,this._args))};return a}(p),
qd=r.fromArray=function(b,a){w(a)||(a=N);return new La(b,a)},rd=function(b){function a(a,c,g,k,f){this._state=a;this._cndFn=c;this._itrFn=g;this._resFn=k;this._s=f;this._first=!0;b.call(this)}function c(a,b){if(a._first)a._first=!1;else if(a._state=m(a._itrFn)(a._state),a._state===n)return a._o.onError(a._state.e);var c=m(a._cndFn)(a._state);if(c===n)return a._o.onError(c.e);if(c){c=m(a._resFn)(a._state);if(c===n)return a._o.onError(c.e);a._o.onNext(c);b(a)}else a._o.onCompleted()}f(a,b);a.prototype.subscribeCore=
function(a){this._o=a;return this._s.scheduleRecursive(this,c)};return a}(p);r.generate=function(b,a,c,d,e){w(e)||(e=N);return new rd(b,a,c,d,e)};r.of=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];return new La(a,N)};r.ofWithScheduler=function(b){for(var a=arguments.length,c=Array(a-1),d=1;d<a;d++)c[d-1]=arguments[d];return new La(c,b)};r.ofArrayChanges=function(b){if(!Array.isArray(b))throw new TypeError("Array.observe only accepts arrays.");if("function"!==typeof Array.observe&&
"function"!==typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new A(function(a){function c(b){for(var c=0,g=b.length;c<g;c++)a.onNext(b[c])}Array.observe(b,c);return function(){Array.unobserve(b,c)}})};r.ofObjectChanges=function(b){if(null==b)throw new TypeError("object must not be null or undefined.");if("function"!==typeof Object.observe&&"function"!==typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");
return new A(function(a){function c(b){for(var c=0,g=b.length;c<g;c++)a.onNext(b[c])}Object.observe(b,c);return function(){Object.unobserve(b,c)}})};var sd=new (function(b){function a(){b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return E};return a}(p)),ab=r.never=function(){return sd},td=function(b){function a(a,c){this._o=a;this._keys=Object.keys(a);this._scheduler=c;b.call(this)}function c(a,b,c){return function(k,f){if(k<c.length){var h=c[k];a.onNext([h,b[h]]);f(k+1)}else a.onCompleted()}}
f(a,b);a.prototype.subscribeCore=function(a){return this._scheduler.scheduleRecursive(0,c(a,this._o,this._keys))};return a}(p);r.pairs=function(b,a){a||(a=N);return new td(b,a)};var ud=function(b){function a(a,c,g){this.start=a;this.rangeCount=c;this.scheduler=g;b.call(this)}function c(a,b,c){return function(k,f){if(k<b)c.onNext(a+k),f(k+1);else c.onCompleted()}}f(a,b);a.prototype.subscribeCore=function(a){return this.scheduler.scheduleRecursive(0,c(this.start,this.rangeCount,a))};return a}(p);r.range=
function(b,a,c){w(c)||(c=N);return new ud(b,a,c)};var vd=function(b){function a(a,d,e){this.value=a;this.repeatCount=null==d?-1:d;this.scheduler=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return(new Bb(a,this)).run()};return a}(p);Bb.prototype.run=function(){var b=this.observer,a=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,function(c,d){if(-1===c||0<c)b.onNext(a),0<c&&c--;if(0===c)return b.onCompleted();d(c)})};r.repeat=function(b,a,c){w(c)||
(c=N);return new vd(b,a,c)};var wd=function(b){function a(a,c){this._value=a;this._scheduler=c;b.call(this)}function c(a,b){var c=b[1];c.onNext(b[0]);c.onCompleted();return E}f(a,b);a.prototype.subscribeCore=function(a){a=[this._value,a];return this._scheduler===V?c(null,a):this._scheduler.schedule(a,c)};return a}(p);r["return"]=r.just=function(b,a){w(a)||(a=V);return new wd(b,a)};var xd=function(b){function a(a,c){this._error=a;this._scheduler=c;b.call(this)}function c(a,b){b[1].onError(b[0]);return E}
f(a,b);a.prototype.subscribeCore=function(a){a=[this._error,a];return this._scheduler===V?c(null,a):this._scheduler.schedule(a,c)};return a}(p),ca=r["throw"]=function(b,a){w(a)||(a=V);return new xd(b,a)},yd=function(b){function a(a,d){this._resFn=a;this._obsFn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=E,e=m(this._resFn)();if(e===n)return new D(ca(e.e).subscribe(a),b);e&&(b=e);e=m(this._obsFn)(e);return e===n?new D(ca(e.e).subscribe(a),b):new D(e.subscribe(a),b)};return a}(p);
r.using=function(b,a){return new yd(b,a)};h.amb=function(b){var a=this;return new A(function(c){function d(){g||(g="L",f.dispose())}function e(){g||(g="R",k.dispose())}var g,k=new v,f=new v;y(b)&&(b=z(b));var h=ja(function(a){d();"L"===g&&c.onNext(a)},function(a){d();"L"===g&&c.onError(a)},function(){d();"L"===g&&c.onCompleted()}),m=ja(function(a){e();"R"===g&&c.onNext(a)},function(a){e();"R"===g&&c.onError(a)},function(){e();"R"===g&&c.onCompleted()});k.setDisposable(a.subscribe(h));f.setDisposable(b.subscribe(m));
return new D(k,f)})};r.amb=function(){var b=ab(),a;if(Array.isArray(arguments[0]))a=arguments[0];else{var c=arguments.length;a=Array(a);for(var d=0;d<c;d++)a[d]=arguments[d]}d=0;for(c=a.length;d<c;d++)b=b.amb(a[d]);return b};var Ad=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new v,e=new G;e.setDisposable(b);b.setDisposable(this.source.subscribe(new zd(a,e,this._fn)));return e};return a}(p),zd=function(b){function a(a,d,e){this._o=
a;this._s=d;this._fn=e;b.call(this)}f(a,b);a.prototype.next=function(a){this._o.onNext(a)};a.prototype.completed=function(){return this._o.onCompleted()};a.prototype.error=function(a){a=m(this._fn)(a);if(a===n)return this._o.onError(a.e);y(a)&&(a=z(a));var b=new v;this._s.setDisposable(b);b.setDisposable(a.subscribe(this._o))};return a}(t);h["catch"]=function(b){return u(b)?new Ad(this,b):Bd([this,b])};var Bd=r["catch"]=function(){var b;if(Array.isArray(arguments[0]))b=arguments[0];else{var a=arguments.length;
b=Array(a);for(var c=0;c<a;c++)b[c]=arguments[c]}return kb(b).catchError()};h.combineLatest=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];Array.isArray(a[0])?a[0].unshift(this):a.unshift(this);return Cd.apply(this,a)};var Ed=function(b){function a(a,d){this._params=a;this._cb=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){for(var b=this._params.length,e=Array(b),g={hasValue:la(b,da),hasValueAll:!1,isDone:la(b,da),values:Array(b)},k=0;k<b;k++){var f=this._params[k],
h=new v;e[k]=h;y(f)&&(f=z(f));h.setDisposable(f.subscribe(new Dd(a,k,this._cb,g)))}return new Z(e)};return a}(p),Dd=function(b){function a(a,c,g,k){this._o=a;this._i=c;this._cb=g;this._state=k;b.call(this)}function c(a){return function(b,c){return c!==a}}f(a,b);a.prototype.next=function(a){this._state.values[this._i]=a;this._state.hasValue[this._i]=!0;if(this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(X))){a=m(this._cb).apply(null,this._state.values);if(a===n)return this._o.onError(a.e);
this._o.onNext(a)}else if(this._state.isDone.filter(c(this._i)).every(X))this._o.onCompleted()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._state.isDone[this._i]=!0;this._state.isDone.every(X)&&this._o.onCompleted()};return a}(t),Cd=r.combineLatest=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=u(a[b-1])?a.pop():ea;Array.isArray(a[0])&&(a=a[0]);return new Ed(a,b)};h.concat=function(){for(var b=[],a=0,c=arguments.length;a<
c;a++)b.push(arguments[a]);b.unshift(this);return dc.apply(null,b)};var Fd=function(b){function a(a,d){this._s=a;this._fn=d;b.call(this)}f(a,b);a.prototype.next=function(a){this._s.o.onNext(a)};a.prototype.error=function(a){this._s.o.onError(a)};a.prototype.completed=function(){this._s.i++;this._fn(this._s)};return a}(t),Gd=function(b){function a(a){this._sources=a;b.call(this)}function c(a,b){if(!a.disposable.isDisposed){if(a.i===a.sources.length)return a.o.onCompleted();var c=a.sources[a.i];y(c)&&
(c=z(c));var k=new v;a.subscription.setDisposable(k);k.setDisposable(c.subscribe(new Fd(a,b)))}}f(a,b);a.prototype.subscribeCore=function(a){var b=new G,g=ia(J);a=V.scheduleRecursive({o:a,i:0,subscription:b,disposable:g,sources:this._sources},c);return new Z([b,g,a])};return a}(p),dc=r.concat=function(){var b;if(Array.isArray(arguments[0]))b=arguments[0];else{b=Array(arguments.length);for(var a=0,c=arguments.length;a<c;a++)b[a]=arguments[a]}return new Gd(b)};h.concatAll=function(){return this.merge(1)};
var Id=function(b){function a(a,d){this.source=a;this.maxConcurrent=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new K;b.add(this.source.subscribe(new Hd(a,this.maxConcurrent,b)));return b};return a}(p),Hd=function(b){function a(a,c,g){this.o=a;this.max=c;this.g=g;this.done=!1;this.q=[];this.activeCount=0;b.call(this)}function c(a,c){this.parent=a;this.sad=c;b.call(this)}f(a,b);a.prototype.handleSubscribe=function(a){var b=new v;this.g.add(b);y(a)&&(a=z(a));b.setDisposable(a.subscribe(new c(this,
b)))};a.prototype.next=function(a){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(a)):this.q.push(a)};a.prototype.error=function(a){this.o.onError(a)};a.prototype.completed=function(){this.done=!0;0===this.activeCount&&this.o.onCompleted()};f(c,b);c.prototype.next=function(a){this.parent.o.onNext(a)};c.prototype.error=function(a){this.parent.o.onError(a)};c.prototype.completed=function(){this.parent.g.remove(this.sad);0<this.parent.q.length?this.parent.handleSubscribe(this.parent.q.shift()):
(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())};return a}(t);h.merge=function(b){return"number"!==typeof b?Jd(this,b):new Id(this,b)};var Jd=r.merge=function(){var b,a=[],c,d=arguments.length;arguments[0]?w(arguments[0])?(b=arguments[0],c=1):(b=V,c=0):(b=V,c=1);for(;c<d;c++)a.push(arguments[c]);Array.isArray(a[0])&&(a=a[0]);return Ab(b,a).mergeAll()},Ld=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=
new K,e=new v;b.add(e);e.setDisposable(this.source.subscribe(new Kd(a,b)));return b};return a}(p),Kd=function(b){function a(a,c){this.o=a;this.g=c;this.done=!1;b.call(this)}function c(a,c){this.parent=a;this.sad=c;b.call(this)}f(a,b);a.prototype.next=function(a){var b=new v;this.g.add(b);y(a)&&(a=z(a));b.setDisposable(a.subscribe(new c(this,b)))};a.prototype.error=function(a){this.o.onError(a)};a.prototype.completed=function(){this.done=!0;1===this.g.length&&this.o.onCompleted()};f(c,b);c.prototype.next=
function(a){this.parent.o.onNext(a)};c.prototype.error=function(a){this.parent.o.onError(a)};c.prototype.completed=function(){this.parent.g.remove(this.sad);this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()};return a}(t);h.mergeAll=function(){return new Ld(this)};var lb=l.CompositeError=function(b){this.innerErrors=b;this.message="This contains multiple errors. Check the innerErrors";Error.call(this)};lb.prototype=Object.create(Error.prototype);lb.prototype.name="CompositeError";
var Nd=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new K,e=new v;a={isStopped:!1,errors:[],o:a};b.add(e);e.setDisposable(this.source.subscribe(new Md(b,a)));return b};return a}(p),Md=function(b){function a(a,c){this._group=a;this._state=c;b.call(this)}function c(a,b){if(0===b.length)a.onCompleted();else if(1===b.length)a.onError(b[0]);else a.onError(new lb(b))}function d(a,c,d){this._inner=a;this._group=c;this._state=d;b.call(this)}f(a,b);
a.prototype.next=function(a){var b=new v;this._group.add(b);y(a)&&(a=z(a));b.setDisposable(a.subscribe(new d(b,this._group,this._state)))};a.prototype.error=function(a){this._state.errors.push(a);this._state.isStopped=!0;1===this._group.length&&c(this._state.o,this._state.errors)};a.prototype.completed=function(){this._state.isStopped=!0;1===this._group.length&&c(this._state.o,this._state.errors)};f(d,b);d.prototype.next=function(a){this._state.o.onNext(a)};d.prototype.error=function(a){this._state.errors.push(a);
this._group.remove(this._inner);this._state.isStopped&&1===this._group.length&&c(this._state.o,this._state.errors)};d.prototype.completed=function(){this._group.remove(this._inner);this._state.isStopped&&1===this._group.length&&c(this._state.o,this._state.errors)};return a}(t);r.mergeDelayError=function(){var b;if(Array.isArray(arguments[0]))b=arguments[0];else{var a=arguments.length;b=Array(a);for(var c=0;c<a;c++)b[c]=arguments[c]}b=Ab(null,b);return new Nd(b)};h.onErrorResumeNext=function(b){if(!b)throw Error("Second observable is required");
return Od([this,b])};var Qd=function(b){function a(a){this.sources=a;b.call(this)}function c(a,b){if(a.pos<a.sources.length){var c=a.sources[a.pos++];y(c)&&(c=z(c));var k=new v;a.subscription.setDisposable(k);k.setDisposable(c.subscribe(new Pd(a,b)))}else a.o.onCompleted()}f(a,b);a.prototype.subscribeCore=function(a){var b=new G;a=V.scheduleRecursive({pos:0,subscription:b,o:a,sources:this.sources},c);return new D(b,a)};return a}(p),Pd=function(b){function a(a,d){this._state=a;this._recurse=d;b.call(this)}
f(a,b);a.prototype.next=function(a){this._state.o.onNext(a)};a.prototype.error=function(){this._recurse(this._state)};a.prototype.completed=function(){this._recurse(this._state)};return a}(t),Od=r.onErrorResumeNext=function(){var b=[];if(Array.isArray(arguments[0]))b=arguments[0];else for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new Qd(b)},Td=function(b){function a(a,d){this._s=a;this._o=y(d)?z(d):d;this._open=!1;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=
new v;b.setDisposable(this._s.subscribe(new Rd(a,this)));y(this._o)&&(this._o=z(this._o));var e=new v;e.setDisposable(this._o.subscribe(new Sd(a,this,e)));return new D(b,e)};return a}(p),Rd=function(b){function a(a,d){this._o=a;this._p=d;b.call(this)}f(a,b);a.prototype.next=function(a){this._p._open&&this._o.onNext(a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()};return a}(t),Sd=function(b){function a(a,d,e){this._o=a;this._p=
d;this._r=e;b.call(this)}f(a,b);a.prototype.next=function(){this._p._open=!0;this._r.dispose()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.onCompleted=function(){this._r.dispose()};return a}(t);h.skipUntil=function(b){return new Td(this,b)};var Ud=function(b){function a(a){this.source=a;b.call(this)}function c(a,b){this.o=a;this.inner=b;this.stopped=!1;this.latest=0;this.hasLatest=!1;t.call(this)}function d(a,b){this.parent=a;this.id=b;t.call(this)}f(a,b);a.prototype.subscribeCore=
function(a){var b=new G;a=this.source.subscribe(new c(a,b));return new D(a,b)};f(c,t);c.prototype.next=function(a){var b=new v,c=++this.latest;this.hasLatest=!0;this.inner.setDisposable(b);y(a)&&(a=z(a));b.setDisposable(a.subscribe(new d(this,c)))};c.prototype.error=function(a){this.o.onError(a)};c.prototype.completed=function(){this.stopped=!0;!this.hasLatest&&this.o.onCompleted()};f(d,t);d.prototype.next=function(a){this.parent.latest===this.id&&this.parent.o.onNext(a)};d.prototype.error=function(a){this.parent.latest===
this.id&&this.parent.o.onError(a)};d.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())};return a}(p);h["switch"]=h.switchLatest=function(){return new Ud(this)};var Wd=function(b){function a(a,d){this.source=a;this.other=y(d)?z(d):d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return new D(this.source.subscribe(a),this.other.subscribe(new Vd(a)))};return a}(p),Vd=function(b){function a(a){this._o=a;
b.call(this)}f(a,b);a.prototype.next=function(){this._o.onCompleted()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.onCompleted=J;return a}(t);h.takeUntil=function(b){return new Wd(this,b)};var Zd=function(b){function a(a,d,e){this._s=a;this._ss=d;this._cb=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){for(var b=this._ss.length,b={hasValue:la(b,da),hasValueAll:!1,values:Array(b)},e=this._ss.length,g=Array(e+1),k=0;k<e;k++){var f=this._ss[k],h=new v;y(f)&&(f=z(f));h.setDisposable(f.subscribe(new Xd(a,
k,b)));g[k]=h}k=new v;k.setDisposable(this._s.subscribe(new Yd(a,this._cb,b)));g[e]=k;return new Z(g)};return a}(p),Xd=function(b){function a(a,d,e){this._o=a;this._i=d;this._state=e;b.call(this)}f(a,b);a.prototype.next=function(a){this._state.values[this._i]=a;this._state.hasValue[this._i]=!0;this._state.hasValueAll=this._state.hasValue.every(X)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=J;return a}(t),Yd=function(b){function a(a,d,e){this._o=a;this._cb=d;this._state=
e;b.call(this)}f(a,b);a.prototype.next=function(a){a=[a].concat(this._state.values);if(this._state.hasValueAll){a=m(this._cb).apply(null,a);if(a===n)return this._o.onError(a.e);this._o.onNext(a)}};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.withLatestFrom=function(){if(0===arguments.length)throw Error("invalid arguments");for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=u(a[b-1])?a.pop():ea;Array.isArray(a[0])&&
(a=a[0]);return new Zd(this,a,b)};var ae=function(b){function a(a,d){this._s=a;this._cb=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){for(var b=this._s.length,e=Array(b),g=la(b,da),k=la(b,Ya),f=0;f<b;f++){var h=this._s[f],m=new v;e[f]=m;y(h)&&(h=z(h));m.setDisposable(h.subscribe(new $d(a,f,this,k,g)))}return new Z(e)};return a}(p),$d=function(b){function a(a,c,d,e,f){this._o=a;this._i=c;this._p=d;this._q=e;this._d=f;b.call(this)}function c(a){return 0<a.length}function d(a){return a.shift()}
function e(a){return function(b,c){return c!==a}}f(a,b);a.prototype.next=function(a){this._q[this._i].push(a);if(this._q.every(c)){a=this._q.map(d);a=m(this._p._cb).apply(null,a);if(a===n)return this._o.onError(a.e);this._o.onNext(a)}else if(this._d.filter(e(this._i)).every(X))this._o.onCompleted()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._d[this._i]=!0;this._d.every(X)&&this._o.onCompleted()};return a}(t);h.zip=function(){if(0===arguments.length)throw Error("invalid arguments");
for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=u(a[b-1])?a.pop():ea;Array.isArray(a[0])&&(a=a[0]);a.unshift(this);return new ae(a,b)};r.zip=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];Array.isArray(a[0])&&(a=u(a[1])?a[0].concat(a[1]):a[0]);b=a.shift();return b.zip.apply(b,a)};var ce=function(b){function a(a,d){this.sources=a;this._cb=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=this.sources,e=b.length,g=Array(e);a={q:la(e,
Ya),done:la(e,da),cb:this._cb,o:a};for(var k=0;k<e;k++){var f=k,h=b[f],m=new v;(sa(h)||ta(h))&&(h=Ma(h));g[f]=m;m.setDisposable(h.subscribe(new be(a,f)))}return new Z(g)};return a}(p),be=function(b){function a(a,c){this._s=a;this._i=c;b.call(this)}function c(a){return 0<a.length}function d(a){return a.shift()}function e(a){return function(b,c){return c!==a}}f(a,b);a.prototype.next=function(a){this._s.q[this._i].push(a);if(this._s.q.every(c)){a=this._s.q.map(d);a=m(this._s.cb).apply(null,a);if(a===
n)return this._s.o.onError(a.e);this._s.o.onNext(a)}else if(this._s.done.filter(e(this._i)).every(X))this._s.o.onCompleted()};a.prototype.error=function(a){this._s.o.onError(a)};a.prototype.completed=function(){this._s.done[this._i]=!0;this._s.done.every(X)&&this._s.o.onCompleted()};return a}(t);h.zipIterable=function(){if(0===arguments.length)throw Error("invalid arguments");for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=u(a[b-1])?a.pop():ea;a.unshift(this);return new ce(a,
b)};h.asObservable=function(){return new A(sc(this),this)};h.bufferWithCount=function(b,a){"number"!==typeof a&&(a=b);return this.windowWithCount(b,a).flatMap(ma).filter(tc)};var ee=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new de(a))};return a}(p),de=function(b){function a(a){this._o=a;b.call(this)}f(a,b);a.prototype.next=function(a){a.accept(this._o)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=
function(){this._o.onCompleted()};return a}(t);h.dematerialize=function(){return new ee(this)};var ge=function(b){function a(a,d,e){this.source=a;this.keyFn=d;this.comparer=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new fe(a,this.keyFn,this.comparer))};return a}(p),fe=function(b){function a(a,d,e){this.o=a;this.keyFn=d;this.comparer=e;this.hasCurrentKey=!1;this.currentKey=null;b.call(this)}f(a,b);a.prototype.next=function(a){var b=a,e;if(u(this.keyFn)&&
(b=m(this.keyFn)(a),b===n))return this.o.onError(b.e);if(this.hasCurrentKey&&(e=m(this.comparer)(this.currentKey,b),e===n))return this.o.onError(e.e);this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=b,this.o.onNext(a))};a.prototype.error=function(a){this.o.onError(a)};a.prototype.completed=function(){this.o.onCompleted()};return a}(t);h.distinctUntilChanged=function(b,a){a||(a=Oa);return new ge(this,b,a)};var he=function(b){function a(a,c,g,k){this.source=a;this._oN=c;this._oE=g;this._oC=
k;b.call(this)}function c(a,b){this.o=a;this.t=!b._oN||u(b._oN)?ja(b._oN||J,b._oE||J,b._oC||J):b._oN;this.isStopped=!1;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this))};f(c,t);c.prototype.next=function(a){var b=m(this.t.onNext).call(this.t,a);if(b===n)this.o.onError(b.e);this.o.onNext(a)};c.prototype.error=function(a){var b=m(this.t.onError).call(this.t,a);if(b===n)return this.o.onError(b.e);this.o.onError(a)};c.prototype.completed=function(){var a=
m(this.t.onCompleted).call(this.t);if(a===n)return this.o.onError(a.e);this.o.onCompleted()};return a}(p);h["do"]=h.tap=h.doAction=function(b,a,c){return new he(this,b,a,c)};h.doOnNext=h.tapOnNext=function(b,a){return this.tap("undefined"!==typeof a?function(c){b.call(a,c)}:b)};h.doOnError=h.tapOnError=function(b,a){return this.tap(J,"undefined"!==typeof a?function(c){b.call(a,c)}:b)};h.doOnCompleted=h.tapOnCompleted=function(b,a){return this.tap(J,null,"undefined"!==typeof a?function(){b.call(a)}:
b)};var ie=function(b){function a(a,c,g){this.source=a;this._fn=I(c,g,0);b.call(this)}function c(a,b){this.isDisposed=!1;this._s=a;this._fn=b}f(a,b);a.prototype.subscribeCore=function(a){a=m(this.source.subscribe).call(this.source,a);a===n&&(this._fn(),O(a.e));return new c(a,this._fn)};c.prototype.dispose=function(){if(!this.isDisposed){var a=m(this._s.dispose).call(this._s);this._fn();a===n&&O(a.e)}};return a}(p);h["finally"]=function(b,a){return new ie(this,b,a)};var je=function(b){function a(a){this.source=
a;b.call(this)}function c(a){this.o=a;this.isStopped=!1}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a))};c.prototype.onNext=J;c.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.o.onError(a))};c.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())};c.prototype.dispose=function(){this.isStopped=!0};c.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(a),!0)};return a}(p);
h.ignoreElements=function(){return new je(this)};var le=function(b){function a(a,d){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new ke(a))};return a}(p),ke=function(b){function a(a){this._o=a;b.call(this)}f(a,b);a.prototype.next=function(a){this._o.onNext(Xb(a))};a.prototype.error=function(a){this._o.onNext(Yb(a));this._o.onCompleted()};a.prototype.completed=function(){this._o.onNext(Zb());this._o.onCompleted()};return a}(t);h.materialize=function(){return new le(this)};
h.repeat=function(b){return jb(this,b).concat()};h.retry=function(b){return jb(this,b).catchError()};h.retryWhen=function(b){return jb(this).catchErrorWhen(b)};var ne=function(b){function a(a,d,e,g){this.source=a;this.accumulator=d;this.hasSeed=e;this.seed=g;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new me(a,this))};return a}(p),me=function(b){function a(a,d){this._o=a;this._p=d;this._fn=d.accumulator;this._hs=d.hasSeed;this._s=d.seed;this._ha=!1;this._a=
null;this._hv=!1;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){!this._hv&&(this._hv=!0);this._ha?this._a=m(this._fn)(this._a,a,this._i,this._p):(this._a=this._hs?m(this._fn)(this._s,a,this._i,this._p):a,this._ha=!0);if(this._a===n)return this._o.onError(this._a.e);this._o.onNext(this._a);this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s);this._o.onCompleted()};return a}(t);h.scan=function(){var b=
!1,a,c=arguments[0];2===arguments.length&&(b=!0,a=arguments[1]);return new ne(this,c,b,a)};var pe=function(b){function a(a,d){this.source=a;this._c=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new oe(a,this._c))};return a}(p),oe=function(b){function a(a,d){this._o=a;this._c=d;this._q=[];b.call(this)}f(a,b);a.prototype.next=function(a){this._q.push(a);this._q.length>this._c&&this._o.onNext(this._q.shift())};a.prototype.error=function(a){this._o.onError(a)};
a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.skipLast=function(b){if(0>b)throw new T;return new pe(this,b)};h.startWith=function(){var b,a=0;arguments.length&&w(arguments[0])?(b=arguments[0],a=1):b=V;for(var c=[],d=arguments.length;a<d;a++)c.push(arguments[a]);return kb([qd(c,b),this]).concat()};var qe=function(b){function a(a,d){this._o=a;this._c=d;this._q=[];b.call(this)}f(a,b);a.prototype.next=function(a){this._q.push(a);this._q.length>this._c&&this._q.shift()};a.prototype.error=
function(a){this._o.onError(a)};a.prototype.completed=function(){for(;0<this._q.length;)this._o.onNext(this._q.shift());this._o.onCompleted()};return a}(t);h.takeLast=function(b){if(0>b)throw new T;var a=this;return new A(function(c){return a.subscribe(new qe(c,b))},a)};var re=function(b){function a(a,d){this._o=a;this._c=d;this._q=[];b.call(this)}f(a,b);a.prototype.next=function(a){this._q.push(a);this._q.length>this._c&&this._q.shift()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=
function(){this._o.onNext(this._q);this._o.onCompleted()};return a}(t);h.takeLastBuffer=function(b){if(0>b)throw new T;var a=this;return new A(function(c){return a.subscribe(new re(c,b))},a)};h.windowWithCount=function(b,a){var c=this;+b||(b=0);Infinity===Math.abs(b)&&(b=0);if(0>=b)throw new T;null==a&&(a=b);+a||(a=0);Infinity===Math.abs(a)&&(a=0);if(0>=a)throw new T;return new A(function(d){function e(){var a=new M;h.push(a);d.onNext(Y(a,k))}var g=new v,k=new na(g),f=0,h=[];e();g.setDisposable(c.subscribe(function(c){for(var d=
0,g=h.length;d<g;d++)h[d].onNext(c);c=f-b+1;0<=c&&0===c%a&&h.shift().onCompleted();0===++f%a&&e()},function(a){for(;0<h.length;)h.shift().onError(a);d.onError(a)},function(){for(;0<h.length;)h.shift().onCompleted();d.onCompleted()}));return k},c)};h.selectConcat=h.concatMap=function(b,a,c){return u(b)&&u(a)?this.concatMap(function(c,e){var g=b(c,e);y(g)&&(g=z(g));(sa(g)||ta(g))&&(g=Ma(g));return g.map(function(b,g){return a(c,b,e,g)})}):u(b)?Cb(this,b,c):Cb(this,function(){return b})};h.concatMapObserver=
h.selectConcatObserver=function(b,a,c,d){var e=this,g=I(b,d,2),k=I(a,d,1),f=I(c,d,0);return(new A(function(a){var b=0;return e.subscribe(function(c){var d;try{d=g(c,b++)}catch(e){a.onError(e);return}y(d)&&(d=z(d));a.onNext(d)},function(b){var c;try{c=k(b)}catch(d){a.onError(d);return}y(c)&&(c=z(c));a.onNext(c);a.onCompleted()},function(){var b;try{b=f()}catch(c){a.onError(c);return}y(b)&&(b=z(b));a.onNext(b);a.onCompleted()})},this)).concatAll()};var se=function(b){function a(a,d){this._o=a;this._d=
d;this._f=!1;b.call(this)}f(a,b);a.prototype.next=function(a){this._f=!0;this._o.onNext(a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){!this._f&&this._o.onNext(this._d);this._o.onCompleted()};return a}(t);h.defaultIfEmpty=function(b){var a=this;b===L&&(b=null);return new A(function(c){return a.subscribe(new se(c,b))},a)};Db.prototype.push=function(b){var a;a:{a=this.set;for(var c=this.comparer,d=0,e=a.length;d<e;d++)if(c(a[d],b)){a=d;break a}a=-1}(a=-1===a)&&
this.set.push(b);return a};var ue=function(b){function a(a,d,e){this.source=a;this._keyFn=d;this._cmpFn=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new te(a,this._keyFn,this._cmpFn))};return a}(p),te=function(b){function a(a,d,e){this._o=a;this._keyFn=d;this._h=new Db(e);b.call(this)}f(a,b);a.prototype.next=function(a){var b=a;if(u(this._keyFn)&&(b=m(this._keyFn)(a),b===n))return this._o.onError(b.e);this._h.push(b)&&this._o.onNext(a)};a.prototype.error=
function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.distinct=function(b,a){a||(a=Oa);return new ue(this,b,a)};h.groupBy=function(b,a){return this.groupByUntil(b,a,ab)};h.groupByUntil=function(b,a,c){var d=this;return new A(function(e){var g=new oa,k=new K,f=new na(k),h=function(a){return function(b){b.onError(a)}};k.add(d.subscribe(function(d){var C=m(b)(d);if(C===n)return g.forEach(h(C.e)),e.onError(C.e);var l=!1,p=g.get(C);p===L&&(p=new M,g.set(C,
p),l=!0);if(l){var l=new ec(C,p,f),t=new ec(C,p),t=m(c)(t);if(t===n)return g.forEach(h(t.e)),e.onError(t.e);e.onNext(l);var r=new v;k.add(r);r.setDisposable(t.take(1).subscribe(J,function(a){g.forEach(h(a));e.onError(a)},function(){if(g["delete"](C))p.onCompleted();k.remove(r)}))}l=d;if(u(a)&&(l=m(a)(d),l===n))return g.forEach(h(l.e)),e.onError(l.e);p.onNext(l)},function(a){g.forEach(h(a));e.onError(a)},function(){g.forEach(function(a){a.onCompleted()});e.onCompleted()}));return f},d)};var fc=function(b){function a(a,
c,d){this.source=a;this.selector=I(c,d,3);b.call(this)}function c(a,b){return function(c,d,f){return a.call(this,b.selector(c,d,f),d,f)}}function d(a,b,c){this.o=a;this.selector=b;this.source=c;this.i=0;t.call(this)}f(a,b);a.prototype.internalMap=function(b,d){return new a(this.source,c(b,this),d)};a.prototype.subscribeCore=function(a){return this.source.subscribe(new d(a,this.selector,this))};f(d,t);d.prototype.next=function(a){a=m(this.selector)(a,this.i++,this.source);if(a===n)return this.o.onError(a.e);
this.o.onNext(a)};d.prototype.error=function(a){this.o.onError(a)};d.prototype.completed=function(){this.o.onCompleted()};return a}(p);h.map=h.select=function(b,a){var c="function"===typeof b?b:function(){return b};return this instanceof fc?this.internalMap(c,a):new fc(this,c,a)};h.pluck=function(){var b=arguments.length,a=Array(b);if(0===b)throw Error("List of properties cannot be empty.");for(var c=0;c<b;c++)a[c]=arguments[c];return this.map(uc(a,b))};h.flatMap=h.selectMany=function(b,a,c){return(new Ra(this,
b,a,c)).mergeAll()};h.flatMapObserver=h.selectManyObserver=function(b,a,c,d){var e=this;return(new A(function(g){var f=0;return e.subscribe(function(a){var c;try{c=b.call(d,a,f++)}catch(e){g.onError(e);return}y(c)&&(c=z(c));g.onNext(c)},function(b){var c;try{c=a.call(d,b)}catch(e){g.onError(e);return}y(c)&&(c=z(c));g.onNext(c);g.onCompleted()},function(){var a;try{a=c.call(d)}catch(b){g.onError(b);return}y(a)&&(a=z(a));g.onNext(a);g.onCompleted()})},e)).mergeAll()};l.Observable.prototype.flatMapLatest=
function(b,a,c){return(new Ra(this,b,a,c)).switchLatest()};var ve=function(b){function a(a,c){this.source=a;this._count=c;b.call(this)}function c(a,b){this._o=a;this._r=b;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this._count))};f(c,t);c.prototype.next=function(a){if(0>=this._r)this._o.onNext(a);else this._r--};c.prototype.error=function(a){this._o.onError(a)};c.prototype.completed=function(){this._o.onCompleted()};return a}(p);h.skip=function(b){if(0>
b)throw new T;return new ve(this,b)};var xe=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new we(a,this))};return a}(p),we=function(b){function a(a,d){this._o=a;this._p=d;this._i=0;this._r=!1;b.call(this)}f(a,b);a.prototype.next=function(a){if(!this._r){var b=m(this._p._fn)(a,this._i++,this._p);if(b===n)return this._o.onError(b.e);this._r=!b}this._r&&this._o.onNext(a)};a.prototype.error=function(a){this._o.onError(a)};
a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.skipWhile=function(b,a){var c=I(b,a,3);return new xe(this,c)};var ye=function(b){function a(a,c){this.source=a;this._count=c;b.call(this)}function c(a,b){this._o=a;this._r=this._c=b;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this._count))};f(c,t);c.prototype.next=function(a){0<this._r--&&(this._o.onNext(a),0>=this._r&&this._o.onCompleted())};c.prototype.error=function(a){this._o.onError(a)};
c.prototype.completed=function(){this._o.onCompleted()};return a}(p);h.take=function(b,a){if(0>b)throw new T;return 0===b?ua(a):new ye(this,b)};var Ae=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new ze(a,this))};return a}(p),ze=function(b){function a(a,d){this._o=a;this._p=d;this._i=0;this._r=!0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._r&&(this._r=m(this._p._fn)(a,this._i++,this._p),this._r===
n))return this._o.onError(this._r.e);if(this._r)this._o.onNext(a);else this._o.onCompleted()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.takeWhile=function(b,a){var c=I(b,a,3);return new Ae(this,c)};var gc=function(b){function a(a,c,d){this.source=a;this.predicate=I(c,d,3);b.call(this)}function c(a,b){return function(c,d,f){return b.predicate(c,d,f)&&a.call(this,c,d,f)}}function d(a,b,c){this.o=a;this.predicate=b;this.source=
c;this.i=0;t.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new d(a,this.predicate,this))};a.prototype.internalFilter=function(b,d){return new a(this.source,c(b,this),d)};f(d,t);d.prototype.next=function(a){var b=m(this.predicate)(a,this.i++,this.source);if(b===n)return this.o.onError(b.e);b&&this.o.onNext(a)};d.prototype.error=function(a){this.o.onError(a)};d.prototype.completed=function(){this.o.onCompleted()};return a}(p);h.filter=h.where=function(b,a){return this instanceof
gc?this.internalFilter(b,a):new gc(this,b,a)};var hc=function(b){function a(a,d,e){this.source=a;this._k=d;this._c=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Be(a,this._k,this._c))};return a}(p),Be=function(b){function a(a,d,e){this._o=a;this._k=d;this._c=e;this._v=null;this._hv=!1;this._l=[];b.call(this)}f(a,b);a.prototype.next=function(a){var b=m(this._k)(a);if(b===n)return this._o.onError(b.e);var e=0;if(this._hv){if(e=m(this._c)(b,this._v),e===
n)return this._o.onError(e.e)}else this._hv=!0,this._v=b;0<e&&(this._v=b,this._l=[]);0<=e&&this._l.push(a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(this._l);this._o.onCompleted()};return a}(t),De=function(b){function a(a,d,e,g){this.source=a;this.accumulator=d;this.hasSeed=e;this.seed=g;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ce(a,this))};return a}(p),Ce=function(b){function a(a,d){this._o=
a;this._p=d;this._fn=d.accumulator;this._hs=d.hasSeed;this._s=d.seed;this._ha=!1;this._a=null;this._hv=!1;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){!this._hv&&(this._hv=!0);this._ha?this._a=m(this._fn)(this._a,a,this._i,this._p):(this._a=this._hs?m(this._fn)(this._s,a,this._i,this._p):a,this._ha=!0);if(this._a===n)return this._o.onError(this._a.e);this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._hv&&this._o.onNext(this._a);!this._hv&&
this._hs&&this._o.onNext(this._s);this._hv||this._hs||this._o.onError(new fa);this._o.onCompleted()};return a}(t);h.reduce=function(){var b=!1,a,c=arguments[0];2===arguments.length&&(b=!0,a=arguments[1]);return new De(this,c,b,a)};var Fe=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ee(a,this._fn,this.source))};return a}(p),Ee=function(b){function a(a,d,e){this._o=a;this._fn=d;this._s=e;this._i=0;b.call(this)}
f(a,b);a.prototype.next=function(a){a=m(this._fn)(a,this._i++,this._s);if(a===n)return this._o.onError(a.e);Boolean(a)&&(this._o.onNext(!0),this._o.onCompleted())};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(!1);this._o.onCompleted()};return a}(t);h.some=function(b,a){var c=I(b,a,3);return new Fe(this,c)};var He=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ge(a))};
return a}(p),Ge=function(b){function a(a){this._o=a;b.call(this)}f(a,b);a.prototype.next=function(){this._o.onNext(!1);this._o.onCompleted()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(!0);this._o.onCompleted()};return a}(t);h.isEmpty=function(){return new He(this)};var Je=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ie(a,this._fn,this.source))};
return a}(p),Ie=function(b){function a(a,d,e){this._o=a;this._fn=d;this._s=e;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){a=m(this._fn)(a,this._i++,this._s);if(a===n)return this._o.onError(a.e);Boolean(a)||(this._o.onNext(!1),this._o.onCompleted())};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(!0);this._o.onCompleted()};return a}(t);h.every=function(b,a){var c=I(b,a,3);return new Je(this,c)};var Le=function(b){function a(a,d,e){e=
+e||0;Infinity===Math.abs(e)&&(e=0);this.source=a;this._elem=d;this._n=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return 0>this._n?(a.onNext(!1),a.onCompleted(),E):this.source.subscribe(new Ke(a,this._elem,this._n))};return a}(p),Ke=function(b){function a(a,d,e){this._o=a;this._elem=d;this._n=e;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){var b;if(b=this._i++>=this._n)b=this._elem,b=0===a&&0===b||a===b||isNaN(a)&&isNaN(b);b&&(this._o.onNext(!0),this._o.onCompleted())};
a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(!1);this._o.onCompleted()};return a}(t);h.includes=function(b,a){return new Le(this,b,a)};var Ne=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Me(a,this._fn,this.source))};return a}(p),Me=function(b){function a(a,d,e){this._o=a;this._fn=d;this._s=e;this._c=this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._fn){a=
m(this._fn)(a,this._i++,this._s);if(a===n)return this._o.onError(a.e);Boolean(a)&&this._c++}else this._c++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(this._c);this._o.onCompleted()};return a}(t);h.count=function(b,a){var c=I(b,a,3);return new Ne(this,c)};var Pe=function(b){function a(a,d,e){this.source=a;this._e=d;this._n=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return 0>this._n?(a.onNext(-1),a.onCompleted(),E):this.source.subscribe(new Oe(a,
this._e,this._n))};return a}(p),Oe=function(b){function a(a,d,e){this._o=a;this._e=d;this._n=e;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){this._i>=this._n&&a===this._e&&(this._o.onNext(this._i),this._o.onCompleted());this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(-1);this._o.onCompleted()};return a}(t);h.indexOf=function(b,a){var c=+a||0;Infinity===Math.abs(c)&&(c=0);return new Pe(this,b,c)};var Re=function(b){function a(a,
d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Qe(a,this._fn,this.source))};return a}(p),Qe=function(b){function a(a,d,e){this._o=a;this._fn=d;this._s=e;this._c=this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._fn&&(a=m(this._fn)(a,this._i++,this._s),a===n))return this._o.onError(a.e);this._c+=a};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(this._c);this._o.onCompleted()};
return a}(t);h.sum=function(b,a){var c=I(b,a,3);return new Re(this,c)};h.minBy=function(b,a){a||(a=Pa);return new hc(this,b,function(b,d){return-1*a(b,d)})};h.min=function(b){return this.minBy(X,b).map(function(a){return Eb(a)})};h.maxBy=function(b,a){a||(a=Pa);return new hc(this,b,a)};h.max=function(b){return this.maxBy(X,b).map(function(a){return Eb(a)})};var Te=function(b){function a(a,d){this.source=a;this._fn=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Se(a,
this._fn,this.source))};return a}(p),Se=function(b){function a(a,d,e){this._o=a;this._fn=d;this._s=e;this._t=this._c=0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._fn){if(a=m(this._fn)(a,this._c++,this._s),a===n)return this._o.onError(a.e)}else this._c++;this._t+=a};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(0===this._c)return this._o.onError(new fa);this._o.onNext(this._t/this._c);this._o.onCompleted()};return a}(t);h.average=function(b,a){var c;
u(b)&&(c=I(b,a,3));return new Te(this,c)};h.sequenceEqual=function(b,a){var c=this;a||(a=Oa);return new A(function(d){var e=!1,g=!1,f=[],h=[],x=c.subscribe(function(b){if(0<h.length){var c=h.shift();b=m(a)(c,b);if(b===n)return d.onError(b.e);b||(d.onNext(!1),d.onCompleted())}else g?(d.onNext(!1),d.onCompleted()):f.push(b)},function(a){d.onError(a)},function(){e=!0;0===f.length&&(0<h.length?(d.onNext(!1),d.onCompleted()):g&&(d.onNext(!0),d.onCompleted()))});(sa(b)||ta(b))&&(b=Ma(b));y(b)&&(b=z(b));
var l=b.subscribe(function(b){if(0<f.length){var c=f.shift();b=m(a)(c,b);if(b===n)return d.onError(b.e);b||(d.onNext(!1),d.onCompleted())}else e?(d.onNext(!1),d.onCompleted()):h.push(b)},function(a){d.onError(a)},function(){g=!0;0===h.length&&(0<f.length?(d.onNext(!1),d.onCompleted()):e&&(d.onNext(!0),d.onCompleted()))});return new D(x,l)},c)};var Ve=function(b){function a(a,d,e){this.source=a;this._i=d;this._d=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ue(a,
this._i,this._d))};return a}(p),Ue=function(b){function a(a,d,e){this._o=a;this._i=d;this._d=e;b.call(this)}f(a,b);a.prototype.next=function(a){0===this._i--&&(this._o.onNext(a),this._o.onCompleted())};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(this._d===L)this._o.onError(new T);else this._o.onNext(this._d),this._o.onCompleted()};return a}(t);h.elementAt=function(b,a){if(0>b)throw new T;return new Ve(this,b,a)};var We=function(b){function a(a,d,e){this._o=
a;this._obj=d;this._s=e;this._i=0;this._hv=!1;this._v=null;b.call(this)}f(a,b);a.prototype.next=function(a){var b=!1;if(this._obj.predicate){var e=m(this._obj.predicate)(a,this._i++,this._s);if(e===n)return this._o.onError(e.e);Boolean(e)&&(b=!0)}else this._obj.predicate||(b=!0);if(b){if(this._hv)return this._o.onError(Error("Sequence contains more than one matching element"));this._hv=!0;this._v=a}};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(this._hv)this._o.onNext(this._v),
this._o.onCompleted();else if(this._obj.defaultValue===L)this._o.onError(new fa);else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return a}(t);h.single=function(b,a,c){var d={},e=this,d="object"===typeof b?b:{predicate:b,thisArg:a,defaultValue:c};u(d.predicate)&&(d.predicate=I(d.predicate,d.thisArg,3));return new A(function(a){return e.subscribe(new We(a,d,e))},e)};var Ye=function(b){function a(a,d){this.source=a;this._obj=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Xe(a,
this._obj,this.source))};return a}(p),Xe=function(b){function a(a,d,e){this._o=a;this._obj=d;this._s=e;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._obj.predicate){var b=m(this._obj.predicate)(a,this._i++,this._s);if(b===n)return this._o.onError(b.e);Boolean(b)&&(this._o.onNext(a),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(a),this._o.onCompleted())};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(this._obj.defaultValue===
L)this._o.onError(new fa);else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return a}(t);h.first=function(b,a,c){var d={},d="object"===typeof b?b:{predicate:b,thisArg:a,defaultValue:c};u(d.predicate)&&(d.predicate=I(d.predicate,d.thisArg,3));return new Ye(this,d)};var $e=function(b){function a(a,d){this.source=a;this._obj=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Ze(a,this._obj,this.source))};return a}(p),Ze=function(b){function a(a,
d,e){this._o=a;this._obj=d;this._s=e;this._i=0;this._hv=!1;this._v=null;b.call(this)}f(a,b);a.prototype.next=function(a){var b=!1;if(this._obj.predicate){var e=m(this._obj.predicate)(a,this._i++,this._s);if(e===n)return this._o.onError(e.e);Boolean(e)&&(b=!0)}else this._obj.predicate||(b=!0);b&&(this._hv=!0,this._v=a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(this._hv)this._o.onNext(this._v),this._o.onCompleted();else if(this._obj.defaultValue===L)this._o.onError(new fa);
else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return a}(t);h.last=function(b,a,c){var d={},d="object"===typeof b?b:{predicate:b,thisArg:a,defaultValue:c};u(d.predicate)&&(d.predicate=I(d.predicate,d.thisArg,3));return new $e(this,d)};var vc=function(b){function a(a,d,e,g){this._o=a;this._s=d;this._cb=e;this._y=g;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){var b=m(this._cb)(a,this._i,this._s);if(b===n)return this._o.onError(b.e);b?(this._o.onNext(this._y?this._i:
a),this._o.onCompleted()):this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._y&&this._o.onNext(-1);this._o.onCompleted()};return a}(t);h.find=function(b,a){return Fb(this,b,a,!1)};h.findIndex=function(b,a){return Fb(this,b,a,!0)};var bf=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new af(a))};return a}(p),af=function(b){function a(a){this._o=a;this._s=new B.Set;b.call(this)}
f(a,b);a.prototype.next=function(a){this._s.add(a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(this._s);this._o.onCompleted()};return a}(t);h.toSet=function(){if("undefined"===typeof B.Set)throw new TypeError;return new bf(this)};var df=function(b){function a(a,d,e){this.source=a;this._k=d;this._e=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new cf(a,this._k,this._e))};return a}(p),cf=function(b){function a(a,
d,e){this._o=a;this._k=d;this._e=e;this._m=new B.Map;b.call(this)}f(a,b);a.prototype.next=function(a){var b=m(this._k)(a);if(b===n)return this._o.onError(b.e);var e=a;if(this._e&&(e=m(this._e)(a),e===n))return this._o.onError(e.e);this._m.set(b,e)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onNext(this._m);this._o.onCompleted()};return a}(t);h.toMap=function(b,a){if("undefined"===typeof B.Map)throw new TypeError;return new df(this,b,a)};var ff=function(b){function a(a,
d,e){this.source=a;this._b=d;this._e=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new ef(a,this._b,this._e))};return a}(p),ef=function(b){function a(a,d,e){this._o=a;this._b=d;this._e=e;this._i=0;b.call(this)}f(a,b);a.prototype.next=function(a){if(this._i>=this._b)if(this._e===this._i)this._o.onCompleted();else this._o.onNext(a);this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);
h.slice=function(b,a){var c=b||0;if(0>c)throw new l.ArgumentOutOfRangeError;if("number"===typeof a&&a<c)throw new l.ArgumentOutOfRangeError;return new ff(this,c,a)};var hf=function(b){function a(a,d,e){this.source=a;this._e=d;this._n=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return 0>this._n?(a.onNext(-1),a.onCompleted(),E):this.source.subscribe(new gf(a,this._e,this._n))};return a}(p),gf=function(b){function a(a,d,e){this._o=a;this._e=d;this._n=e;this._v=0;this._hv=!1;this._i=0;
b.call(this)}f(a,b);a.prototype.next=function(a){this._i>=this._n&&a===this._e&&(this._hv=!0,this._v=this._i);this._i++};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){if(this._hv)this._o.onNext(this._v);else this._o.onNext(-1);this._o.onCompleted()};return a}(t);h.lastIndexOf=function(b,a){var c=+a||0;Infinity===Math.abs(c)&&(c=0);return new hf(this,b,c)};r.wrap=function(b){function a(){return r.spawn.call(this,b.apply(this,arguments))}a.__generatorFunction__=
b;return a};var wc=r.spawn=function(){for(var b=arguments[0],a=this,c=[],d=1,e=arguments.length;d<e;d++)c.push(arguments[d]);return new A(function(d){function e(a){a=m(b.next).call(b,a);if(a===n)return d.onError(a.e);h(a)}function f(a){a=m(b.next).call(b,a);if(a===n)return d.onError(a.e);h(a)}function h(b){if(b.done)d.onNext(b.value),d.onCompleted();else{b=Za.call(a,b.value);var c=null,m=!1;r.isObservable(b)?l.add(b.subscribe(function(a){m=!0;c=a},f,function(){m&&e(c)})):f(new TypeError("type not supported"))}}
var l=new K;u(b)&&(b=b.apply(a,c));if(!b||!u(b.next))return d.onNext(b),d.onCompleted();e();return l})};r.start=function(b,a,c){return jf(b,a,c)()};var jf=r.toAsync=function(b,a,c){w(c)||(c=F);return function(){var d=arguments,e=new Aa;c.schedule(null,function(){var c;try{c=b.apply(a,d)}catch(f){e.onError(f);return}e.onNext(c);e.onCompleted()});return e.asObservable()}};r.fromCallback=function(b,a,c){return function(){"undefined"===typeof a&&(a=this);for(var d=arguments.length,e=Array(d),g=0;g<d;g++)e[g]=
arguments[g];d=a;g=new Aa;e.push(Ac(g,d,c));b.apply(d,e);return g.asObservable()}};r.fromNodeCallback=function(b,a,c){return function(){"undefined"===typeof a&&(a=this);for(var d=arguments.length,e=Array(d),g=0;g<d;g++)e[g]=arguments[g];d=a;g=new Aa;e.push(Bc(g,d,c));b.apply(d,e);return g.asObservable()}};Hb.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)};l.config.useNativeEvents=!1;var kf=function(b){function a(a,c,g){this._el=
a;this._n=c;this._fn=g;b.call(this)}function c(a,b){return function(){var c=arguments[0];if(u(b)&&(c=m(b).apply(null,arguments),c===n))return a.onError(c.e);a.onNext(c)}}f(a,b);a.prototype.subscribeCore=function(a){return Ib(this._el,this._n,c(a,this._fn))};return a}(p);r.fromEvent=function(b,a,c){return b.addListener?ic(function(c){b.addListener(a,c)},function(c){b.removeListener(a,c)},c):l.config.useNativeEvents||"function"!==typeof b.on||"function"!==typeof b.off?(new kf(b,a,c)).publish().refCount():
ic(function(c){b.on(a,c)},function(c){b.off(a,c)},c)};var lf=function(b){function a(a,c,d){this._add=a;this._del=c;this._fn=d;b.call(this)}function c(a,b){return function(){var c=arguments[0];if(u(b)&&(c=m(b).apply(null,arguments),c===n))return a.onError(c.e);a.onNext(c)}}function d(a,b,c){this._del=a;this._fn=b;this._ret=c;this.isDisposed=!1}f(a,b);a.prototype.subscribeCore=function(a){a=c(a,this._fn);var b=this._add(a);return new d(this._del,a,b)};d.prototype.dispose=function(){this.isDisposed||
u(this._del)&&this._del(this._fn,this._ret)};return a}(p),ic=r.fromEventPattern=function(b,a,c){return(new lf(b,a,c)).publish().refCount()};r.startAsync=function(b){b=m(b)();return b===n?ca(b.e):z(b)};var mf=function(b){function a(a,d){this.source=a;this.controller=new M;this.pauser=d&&d.subscribe?this.controller.merge(d):this.controller;b.call(this)}f(a,b);a.prototype._subscribe=function(a){var b=this.source.publish();a=b.subscribe(a);var e=E,g=this.pauser.distinctUntilChanged().subscribe(function(a){a?
e=b.connect():(e.dispose(),e=E)});return new Z([a,e,g])};a.prototype.pause=function(){this.controller.onNext(!1)};a.prototype.resume=function(){this.controller.onNext(!0)};return a}(r);h.pausable=function(b){return new mf(this,b)};var nf=function(b){function a(a,d){this.source=a;this.controller=new M;this.pauser=d&&d.subscribe?this.controller.merge(d):this.controller;b.call(this)}f(a,b);a.prototype._subscribe=function(a){function b(){for(;0<e.length;)a.onNext(e.shift())}var e=[],g;return Cc(this.source,
this.pauser.startWith(!1).distinctUntilChanged(),function(a,b){return{data:a,shouldFire:b}}).subscribe(function(f){if(g!==L&&f.shouldFire!==g)(g=f.shouldFire)&&b();else if(g=f.shouldFire)a.onNext(f.data);else e.push(f.data)},function(e){b();a.onError(e)},function(){b();a.onCompleted()})};a.prototype.pause=function(){this.controller.onNext(!1)};a.prototype.resume=function(){this.controller.onNext(!0)};return a}(r);h.pausableBuffered=function(b){return new nf(this,b)};var mb=function(b){function a(a,
d,e){b.call(this);this.subject=new of(d,e);this.source=a.multicast(this.subject).refCount()}f(a,b);a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype.request=function(a){return this.subject.request(null==a?-1:a)};return a}(r),of=function(b){function a(a,d){null==a&&(a=!0);b.call(this);this.subject=new M;this.queue=(this.enableQueue=a)?[]:null;this.requestedCount=0;this.error=this.requestedDisposable=null;this.hasCompleted=this.hasFailed=!1;this.scheduler=d||N}f(a,b);ra(a.prototype,
Q,{_subscribe:function(a){return this.subject.subscribe(a)},onCompleted:function(){this.hasCompleted=!0;this.enableQueue&&0!==this.queue.length?this.queue.push(S.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(a){this.hasFailed=!0;this.error=a;this.enableQueue&&0!==this.queue.length?this.queue.push(S.createOnError(a)):(this.subject.onError(a),this.disposeCurrentRequest())},onNext:function(a){0>=this.requestedCount?this.enableQueue&&this.queue.push(S.createOnNext(a)):
(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(a))},_processRequest:function(a){if(this.enableQueue)for(;0<this.queue.length&&(0<a||"N"!==this.queue[0].kind);){var b=this.queue.shift();b.accept(this.subject);"N"===b.kind?a--:(this.disposeCurrentRequest(),this.queue=[])}return a},request:function(a){this.disposeCurrentRequest();var b=this;return this.requestedDisposable=this.scheduler.schedule(a,function(a,c){var f=b._processRequest(c);if(!b.hasCompleted&&!b.hasFailed&&
0<f)return b.requestedCount=f,ia(function(){b.requestedCount=0})})},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}});return a}(r);h.controlled=function(b,a){b&&w(b)&&(a=b,b=!0);null==b&&(b=!0);return new mb(this,b,a)};var pf=function(b){function a(a){b.call(this);this.source=a}function c(a,b){b.source.request(1)}f(a,b);a.prototype._subscribe=function(a){this.subscription=this.source.subscribe(new d(a,this,this.subscription));
return new D(this.subscription,F.schedule(this,c))};var d=function(b){function c(a,d,g){b.call(this);this.observer=a;this.observable=d;this.cancel=g;this.scheduleDisposable=null}function d(a,b){b.observable.source.request(1)}f(c,b);c.prototype.completed=function(){this.observer.onCompleted();this.dispose()};c.prototype.error=function(a){this.observer.onError(a);this.dispose()};c.prototype.next=function(a){this.observer.onNext(a);this.scheduleDisposable=F.schedule(this,d)};a.dispose=function(){this.observer=
null;this.cancel&&(this.cancel.dispose(),this.cancel=null);this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null);b.prototype.dispose.call(this)};return c}(t);return a}(r);mb.prototype.stopAndWait=function(){return new pf(this)};var qf=function(b){function a(a,c){b.call(this);this.source=a;this.windowSize=c}function c(a,b){b.source.request(b.windowSize)}f(a,b);a.prototype._subscribe=function(a){this.subscription=this.source.subscribe(new d(a,this,this.subscription));
return new D(this.subscription,F.schedule(this,c))};var d=function(a){function b(c,d,g){this.observer=c;this.observable=d;this.cancel=g;this.received=0;this.scheduleDisposable=null;a.call(this)}function c(a,b){b.observable.source.request(b.observable.windowSize)}f(b,a);b.prototype.completed=function(){this.observer.onCompleted();this.dispose()};b.prototype.error=function(a){this.observer.onError(a);this.dispose()};b.prototype.next=function(a){this.observer.onNext(a);this.received=++this.received%
this.observable.windowSize;0===this.received&&(this.scheduleDisposable=F.schedule(this,c))};b.prototype.dispose=function(){this.observer=null;this.cancel&&(this.cancel.dispose(),this.cancel=null);this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null);a.prototype.dispose.call(this)};return b}(t);return a}(r);mb.prototype.windowed=function(b){return new qf(this,b)};h.pipe=function(b){function a(){c.resume()}var c=this.pausableBuffered();b.addListener("drain",a);c.subscribe(function(a){!b.write(String(a))&&
c.pause()},function(a){b.emit("error",a)},function(){!b._isStdio&&b.end();b.removeListener("drain",a)});c.resume();return b};var rf=function(b){function a(a,d,e){this.source=a;this._fn1=d;this._fn2=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=this.source.multicast(this._fn1());return new D(this._fn2(b).subscribe(a),b.connect())};return a}(p);h.multicast=function(b,a){return u(b)?new rf(this,b,a):new sf(this,b)};h.publish=function(b){return b&&u(b)?this.multicast(function(){return new M},
b):this.multicast(new M)};h.share=function(){return this.publish().refCount()};h.publishLast=function(b){return b&&u(b)?this.multicast(function(){return new Aa},b):this.multicast(new Aa)};h.publishValue=function(b,a){return 2===arguments.length?this.multicast(function(){return new jc(a)},b):this.multicast(new jc(b))};h.shareValue=function(b){return this.publishValue(b).refCount()};h.replay=function(b,a,c,d){return b&&u(b)?this.multicast(function(){return new kc(a,c,d)},b):this.multicast(new kc(a,
c,d))};h.shareReplay=function(b,a,c){return this.replay(null,b,a,c).refCount()};var Sa=function(b,a){this._s=b;this._o=a};Sa.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var b=this._s.observers.indexOf(this._o);this._s.observers.splice(b,1);this._o=null}};var tf=function(b){function a(a){this.source=a;this._count=0;this._connectableSubscription=null;b.call(this)}function c(a,b){this._p=a;this._s=b;this.isDisposed=!1}f(a,b);a.prototype.subscribeCore=function(a){a=this.source.subscribe(a);
1===++this._count&&(this._connectableSubscription=this.source.connect());return new c(this,a)};c.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())};return a}(p),sf=l.ConnectableObservable=function(b){function a(a,c){this.source=a;this._connection=null;this._source=a.asObservable();this._subject=c;b.call(this)}function c(a,b){this._p=a;this._s=b}f(a,b);c.prototype.dispose=function(){this._s&&(this._s.dispose(),
this._s=null,this._p._connection=null)};a.prototype.connect=function(){if(!this._connection){var a=this._source.subscribe(this._subject);this._connection=new c(this,a)}return this._connection};a.prototype._subscribe=function(a){return this._subject.subscribe(a)};a.prototype.refCount=function(){return new tf(this)};return a}(r);h.singleInstance=function(){function b(){c||(c=!0,d=a["finally"](function(){c=!1}).publish().refCount());return d}var a=this,c=!1,d;return new A(function(a){return b().subscribe(a)})};
h.join=function(b,a,c,d){var e=this;return new A(function(g){var f=new K,h=!1,l=!1,p=0,t=0,r=new oa,u=new oa,w=function(a){g.onError(a)};f.add(e.subscribe(function(b){var c=p++,e=new v;r.set(c,b);f.add(e);var l=m(a)(b);if(l===n)return g.onError(l.e);e.setDisposable(l.take(1).subscribe(J,w,function(){r["delete"](c)&&0===r.size&&h&&g.onCompleted();f.remove(e)}));u.forEach(function(a){a=m(d)(b,a);if(a===n)return g.onError(a.e);g.onNext(a)})},w,function(){h=!0;(l||0===r.size)&&g.onCompleted()}));f.add(b.subscribe(function(a){var b=
t++,e=new v;u.set(b,a);f.add(e);var h=m(c)(a);if(h===n)return g.onError(h.e);e.setDisposable(h.take(1).subscribe(J,w,function(){u["delete"](b)&&0===u.size&&l&&g.onCompleted();f.remove(e)}));r.forEach(function(b){b=m(d)(b,a);if(b===n)return g.onError(b.e);g.onNext(b)})},w,function(){l=!0;(h||0===u.size)&&g.onCompleted()}));return f},e)};h.groupJoin=function(b,a,c,d){var e=this;return new A(function(g){function f(a){}var h=new K,l=new na(h),p=new oa,r=new oa,t=0,u=0,f=function(a){return function(b){b.onError(a)}};
h.add(e.subscribe(function(b){var c=new M,e=t++;p.set(e,c);var u=m(d)(b,Y(c,l));if(u===n)return p.forEach(f(u.e)),g.onError(u.e);g.onNext(u);r.forEach(function(a){c.onNext(a)});var w=new v;h.add(w);b=m(a)(b);if(b===n)return p.forEach(f(b.e)),g.onError(b.e);w.setDisposable(b.take(1).subscribe(J,function(a){p.forEach(f(a));g.onError(a)},function(){p["delete"](e)&&c.onCompleted();h.remove(w)}))},function(a){p.forEach(f(a));g.onError(a)},function(){g.onCompleted()}));h.add(b.subscribe(function(a){var b=
u++;r.set(b,a);var d=new v;h.add(d);var e=m(c)(a);if(e===n)return p.forEach(f(e.e)),g.onError(e.e);d.setDisposable(e.take(1).subscribe(J,function(a){p.forEach(f(a));g.onError(a)},function(){r["delete"](b);h.remove(d)}));p.forEach(function(b){b.onNext(a)})},function(a){p.forEach(f(a));g.onError(a)}));return l},e)};h.buffer=function(){return this.window.apply(this,arguments).flatMap(ma)};h.window=function(b,a){return 1===arguments.length&&"function"!==typeof arguments[0]?Ec.call(this,b):"function"===
typeof b?Fc.call(this,b):Dc.call(this,b,a)};var vf=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new uf(a))};return a}(p),uf=function(b){function a(a){this._o=a;this._p=null;this._hp=!1}f(a,b);a.prototype.next=function(a){if(this._hp)this._o.onNext([this._p,a]);else this._hp=!0;this._p=a};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.pairwise=
function(){return new vf(this)};h.partition=function(b,a){var c=I(b,a,3);return[this.filter(b,a),this.filter(function(a,b,g){return!c(a,b,g)})]};var wf=function(b){function a(a,b){this.c=a;this.s=b}f(a,b);a.prototype[R]=function(){var a=this;return{next:function(){return a.c()?{done:!1,value:a.s}:{done:!0,value:void 0}}}};return a}(ka);h.letBind=h.let=function(b){return b(this)};r["if"]=function(b,a,c){return Ca(function(){c||(c=ua());y(a)&&(a=z(a));y(c)&&(c=z(c));"function"===typeof c.now&&(c=ua(c));
return b()?a:c})};r["for"]=r.forIn=function(b,a,c){return kb(b,a,c).concat()};var xf=r["while"]=r.whileDo=function(b,a){y(a)&&(a=z(a));return(new wf(b,a)).concat()};h.doWhile=function(b){return dc([this,xf(b,this)])};r["case"]=function(b,a,c){return Ca(function(){y(c)&&(c=z(c));c||(c=ua());w(c)&&(c=ua(c));var d=a[b()];y(d)&&(d=z(d));return d||c})};var zf=function(b){function a(a,c,g){this.source=a;this._fn=c;this._scheduler=g;b.call(this)}function c(a,b){var c=a[0],f=a[1],h;if(0<c.q.length){h=c.q.shift();
var l=new v;c.d.add(l);l.setDisposable(h.subscribe(new yf(c,f,l)));b([c,f])}else c.isAcquired=!1}f(a,b);a.prototype._ensureActive=function(a){var b=!1;0<a.q.length&&(b=!a.isAcquired,a.isAcquired=!0);b&&a.m.setDisposable(this._scheduler.scheduleRecursive([a,this],c))};a.prototype.subscribeCore=function(a){var b=new G,c=new K(b);a={q:[],m:b,d:c,activeCount:0,isAcquired:!1,o:a};a.q.push(this.source);a.activeCount++;this._ensureActive(a);return c};return a}(p),yf=function(b){function a(a,d,e){this._s=
a;this._p=d;this._m1=e;b.call(this)}f(a,b);a.prototype.next=function(a){this._s.o.onNext(a);a=m(this._p._fn)(a);if(a===n)return this._s.o.onError(a.e);this._s.q.push(a);this._s.activeCount++;this._p._ensureActive(this._s)};a.prototype.error=function(a){this._s.o.onError(a)};a.prototype.completed=function(){this._s.d.remove(this._m1);this._s.activeCount--;0===this._s.activeCount&&this._s.o.onCompleted()};return a}(t);h.expand=function(b,a){w(a)||(a=N);return new zf(this,b,a)};var Bf=function(b){function a(a,
d){this._sources=a;this._cb=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){if(0===this._sources.length)return a.onCompleted(),E;for(var b=this._sources.length,b={finished:!1,hasResults:Array(b),hasCompleted:Array(b),results:Array(b)},e=new K,g=0,f=this._sources.length;g<f;g++){var h=this._sources[g];y(h)&&(h=z(h));e.add(h.subscribe(new Af(a,b,g,this._cb,e)))}return e};return a}(p),Af=function(b){function a(a,d,e,g,f){this._o=a;this._s=d;this._i=e;this._cb=g;this._subs=f;b.call(this)}
f(a,b);a.prototype.next=function(a){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=a)};a.prototype.error=function(a){this._s.finished=!0;this._o.onError(a);this._subs.dispose()};a.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var a=0;a<this._s.results.length;a++)if(!this._s.hasCompleted[a])return;this._s.finished=!0;a=m(this._cb).apply(null,this._s.results);if(a===n)return this._o.onError(a.e);
this._o.onNext(a);this._o.onCompleted()}};return a}(t);r.forkJoin=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=u(a[b-1])?a.pop():ea;Array.isArray(a[0])&&(a=a[0]);return new Bf(a,b)};h.forkJoin=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];Array.isArray(a[0])?a[0].unshift(this):a.unshift(this);return r.forkJoin.apply(null,a)};h.manySelect=h.extend=function(b,a){w(a)||(a=l.Scheduler.immediate);var c=this;return Ca(function(){var d;
return c.map(function(a){var b=new Cf(a);d&&d.onNext(a);return d=b}).tap(J,function(a){d&&d.onError(a)},function(){d&&d.onCompleted()}).observeOn(a).map(b)},c)};var Cf=function(b){function a(a){b.call(this);this.head=a;this.tail=new Aa}f(a,b);ra(a.prototype,Q,{_subscribe:function(a){var b=new K;b.add(N.schedule(this,function(e,g){a.onNext(g.head);b.add(g.tail.mergeAll().subscribe(a))}));return b},onCompleted:function(){this.onNext(r.empty())},onError:function(a){this.onNext(r["throw"](a))},onNext:function(a){this.tail.onNext(a);
this.tail.onCompleted()}});return a}(r),oa=B.Map||function(){function b(){this.size=0;this._values=[];this._keys=[]}b.prototype["delete"]=function(a){a=this._keys.indexOf(a);if(-1===a)return!1;this._values.splice(a,1);this._keys.splice(a,1);this.size--;return!0};b.prototype.get=function(a){a=this._keys.indexOf(a);return-1===a?L:this._values[a]};b.prototype.set=function(a,b){var d=this._keys.indexOf(a);-1===d?(this._keys.push(a),this._values.push(b),this.size++):this._values[d]=b;return this};b.prototype.forEach=
function(a,b){for(var d=0;d<this.size;d++)a.call(b,this._values[d],this._keys[d])};return b}();Ba.prototype.and=function(b){return new Ba(this.patterns.concat(b))};Ba.prototype.thenDo=function(b){return new Jb(this,b)};Jb.prototype.activate=function(b,a,c){for(var d=[],e=Gc(a),g=0,f=this.expression.patterns.length;g<f;g++)d.push(Ic(b,this.expression.patterns[g],e));for(var h=new $a(d,Hc(this,a),function(){for(var a=0,b=d.length;a<b;a++)d[a].removeActivePlan(h);c(h)}),g=0,f=d.length;g<f;g++)d[g].addActivePlan(h);
return h};$a.prototype.dequeue=function(){this.joinObservers.forEach(function(b){b.queue.shift()})};$a.prototype.match=function(){var b,a,c=!0;b=0;for(a=this.joinObserverArray.length;b<a;b++)if(0===this.joinObserverArray[b].queue.length){c=!1;break}if(c){var c=[],d=!1;b=0;for(a=this.joinObserverArray.length;b<a;b++)c.push(this.joinObserverArray[b].queue[0]),"C"===this.joinObserverArray[b].queue[0].kind&&(d=!0);if(d)this.onCompleted();else{this.dequeue();a=[];for(b=0;b<c.length;b++)a.push(c[b].value);
this.onNext.apply(this,a)}}};var Jc=function(b){function a(a,c){b.call(this);this.source=a;this.onError=c;this.queue=[];this.activePlans=[];this.subscription=new v;this.isDisposed=!1}f(a,b);var c=a.prototype;c.next=function(a){if(!this.isDisposed){if("E"===a.kind)return this.onError(a.error);this.queue.push(a);a=this.activePlans.slice(0);for(var b=0,c=a.length;b<c;b++)a[b].match()}};c.error=J;c.completed=J;c.addActivePlan=function(a){this.activePlans.push(a)};c.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))};
c.removeActivePlan=function(a){this.activePlans.splice(this.activePlans.indexOf(a),1);0===this.activePlans.length&&this.dispose()};c.dispose=function(){b.prototype.dispose.call(this);this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())};return a}(t);h.and=function(b){return new Ba([this,b])};h.thenDo=function(b){return(new Ba([this])).thenDo(b)};r.when=function(){var b=arguments.length,a;if(Array.isArray(arguments[0]))a=arguments[0];else{a=Array(b);for(var c=0;c<b;c++)a[c]=arguments[c]}return new A(function(b){var c=
[],g=new oa,f=ja(function(a){b.onNext(a)},function(a){g.forEach(function(b){b.onError(a)});b.onError(a)},function(a){b.onCompleted()});try{for(var h=0,l=a.length;h<l;h++)c.push(a[h].activate(g,f,function(a){a=c.indexOf(a);c.splice(a,1);0===c.length&&b.onCompleted()}))}catch(m){ca(m).subscribe(b)}var n=new K;g.forEach(function(a){a.subscribe();n.add(a)});return n})};var Df=function(b){function a(a,c){this._dt=a;this._s=c;b.call(this)}function c(a,b){b.onNext(0);b.onCompleted()}f(a,b);a.prototype.subscribeCore=
function(a){return this._s.scheduleFuture(a,this._dt,c)};return a}(p),Ef=r.interval=function(b,a){return Mb(b,b,w(a)?a:F)};r.timer=function(b,a,c){var d;w(c)||(c=F);null!=a&&"number"===typeof a?d=a:w(a)&&(c=a);return(b instanceof Date||"number"===typeof b)&&d===L?new Df(b,c):b instanceof Date&&d!==L?Kb(b.getTime(),a,c):Mb(b,d,c)};h.delay=function(b,a){if("number"===typeof b||b instanceof Date){var c=a;w(c)||(c=F);return b instanceof Date?Kc(this,b,c):Nb(this,b,c)}if(r.isObservable(b)||u(b))return Lc(this,
b,a);throw Error("Invalid arguments");};var Gf=function(b){function a(a,d,e){w(e)||(e=F);this.source=a;this._dt=d;this._s=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new G;return new D(this.source.subscribe(new Ff(a,this.source,this._dt,this._s,b)),b)};return a}(p),Ff=function(b){function a(a,d,e,g,f){this._o=a;this._s=d;this._d=e;this._scheduler=g;this._c=f;this._v=null;this._hv=!1;this._id=0;b.call(this)}f(a,b);a.prototype.next=function(a){this._hv=!0;this._v=a;var b=++this._id,
e=new v;this._c.setDisposable(e);e.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(e,f){f._hv&&f._id===b&&f._o.onNext(a);f._hv=!1}))};a.prototype.error=function(a){this._c.dispose();this._o.onError(a);this._hv=!1;this._id++};a.prototype.completed=function(){this._c.dispose();this._hv&&this._o.onNext(this._v);this._o.onCompleted();this._hv=!1;this._id++};return a}(t);h.debounce=function(b,a){if(u(b))return Mc(this,b);if("number"===typeof b)return new Gf(this,b,a);throw Error("Invalid arguments");
};h.windowWithTime=function(b,a,c){var d=this,e;null==a&&(e=b);w(c)||(c=F);"number"===typeof a?e=a:w(a)&&(e=b,c=a);return new A(function(a){function f(){var b=new v,d=!1,h=!1;r.setDisposable(b);m===l?h=d=!0:m<l?d=!0:h=!0;var q=d?m:l,u=q-t;t=q;d&&(m+=e);h&&(l+=e);b.setDisposable(c.scheduleFuture(null,u,function(){if(h){var b=new M;n.push(b);a.onNext(Y(b,p))}d&&n.shift().onCompleted();f()}))}var h,l=e,m=b,n=[],p,r=new G,t=0;h=new K(r);p=new na(h);n.push(new M);a.onNext(Y(n[0],p));f();h.add(d.subscribe(function(a){for(var b=
0,c=n.length;b<c;b++)n[b].onNext(a)},function(b){for(var c=0,d=n.length;c<d;c++)n[c].onError(b);a.onError(b)},function(){for(var b=0,c=n.length;b<c;b++)n[b].onCompleted();a.onCompleted()}));return p},d)};h.windowWithTimeOrCount=function(b,a,c){var d=this;w(c)||(c=F);return new A(function(e){function g(a){var d=new v;f.setDisposable(d);d.setDisposable(c.scheduleFuture(null,b,function(){if(a===n){m=0;var b=++n;p.onCompleted();p=new M;e.onNext(Y(p,l));g(b)}}))}var f=new G,h=new K(f),l=new na(h),m=0,
n=0,p=new M;e.onNext(Y(p,l));g(0);h.add(d.subscribe(function(b){var c=0,d=!1;p.onNext(b);++m===a&&(d=!0,m=0,c=++n,p.onCompleted(),p=new M,e.onNext(Y(p,l)));d&&g(c)},function(a){p.onError(a);e.onError(a)},function(){p.onCompleted();e.onCompleted()}));return l},d)};h.bufferWithTime=function(b,a,c){return this.windowWithTime(b,a,c).flatMap(ma)};h.bufferWithTimeOrCount=function(b,a,c){return this.windowWithTimeOrCount(b,a,c).flatMap(ma)};var If=function(b){function a(a,d){this.source=a;this._s=d;b.call(this)}
f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Hf(a,this._s))};return a}(p),Hf=function(b){function a(a,d){this._o=a;this._s=d;this._l=d.now();b.call(this)}f(a,b);a.prototype.next=function(a){var b=this._s.now(),e=b-this._l;this._l=b;this._o.onNext({value:a,interval:e})};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.timeInterval=function(b){w(b)||(b=F);return new If(this,b)};var Kf=function(b){function a(a,
d){this.source=a;this._s=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Jf(a,this._s))};return a}(p),Jf=function(b){function a(a,d){this._o=a;this._s=d;b.call(this)}f(a,b);a.prototype.next=function(a){this._o.onNext({value:a,timestamp:this._s.now()})};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.timestamp=function(b){w(b)||(b=F);return new Kf(this,b)};h.sample=h.throttleLatest=
function(b,a){w(a)||(a=F);return"number"===typeof b?Ob(this,Ef(b,a)):Ob(this,b)};var Na=l.TimeoutError=function(b){this.message=b||"Timeout has occurred";this.name="TimeoutError";Error.call(this)};Na.prototype=Object.create(Error.prototype);h.timeout=function(b,a,c){if(b instanceof Date||"number"===typeof b)return Oc(this,b,a,c);if(r.isObservable(b)||u(b))return Nc(this,b,a,c);throw Error("Invalid arguments");};var Lf=function(b){function a(a,c,g,f,h,l){this._state=a;this._cndFn=c;this._itrFn=g;this._resFn=
f;this._timeFn=h;this._s=l;this._first=!0;this._hasResult=!1;b.call(this)}function c(a,b){a._hasResult&&a._o.onNext(a._state);if(a._first)a._first=!1;else if(a._state=m(a._itrFn)(a._state),a._state===n)return a._o.onError(a._state.e);a._hasResult=m(a._cndFn)(a._state);if(a._hasResult===n)return a._o.onError(a._hasResult.e);if(a._hasResult){var c=m(a._resFn)(a._state);if(c===n)return a._o.onError(c.e);c=m(a._timeFn)(a._state);if(c===n)return a._o.onError(c.e);b(a,c)}else a._o.onCompleted()}f(a,b);
a.prototype.subscribeCore=function(a){this._o=a;return this._s.scheduleRecursiveFuture(this,new Date(this._s.now()),c)};return a}(p);r.generateWithAbsoluteTime=function(b,a,c,d,e,g){w(g)||(g=F);return new Lf(b,a,c,d,e,g)};var Mf=function(b){function a(a,c,g,f,h,l){this._state=a;this._cndFn=c;this._itrFn=g;this._resFn=f;this._timeFn=h;this._s=l;this._first=!0;this._hasResult=!1;b.call(this)}function c(a,b){a._hasResult&&a._o.onNext(a._state);if(a._first)a._first=!1;else if(a._state=m(a._itrFn)(a._state),
a._state===n)return a._o.onError(a._state.e);a._hasResult=m(a._cndFn)(a._state);if(a._hasResult===n)return a._o.onError(a._hasResult.e);if(a._hasResult){var c=m(a._resFn)(a._state);if(c===n)return a._o.onError(c.e);c=m(a._timeFn)(a._state);if(c===n)return a._o.onError(c.e);b(a,c)}else a._o.onCompleted()}f(a,b);a.prototype.subscribeCore=function(a){this._o=a;return this._s.scheduleRecursiveFuture(this,0,c)};return a}(p);r.generateWithRelativeTime=function(b,a,c,d,e,g){w(g)||(g=F);return new Mf(b,a,
c,d,e,g)};var Nf=function(b){function a(a,c,g){this.source=a;this._dt=c;this._s=g;b.call(this)}function c(a,b){b[2].setDisposable(b[0].subscribe(b[1]))}f(a,b);a.prototype.subscribeCore=function(a){var b=new G;b.setDisposable(this._s.scheduleFuture([this.source,a,b],this._dt,c));return b};return a}(p);h.delaySubscription=function(b,a){w(a)||(a=F);return new Nf(this,b,a)};var Pf=function(b){function a(a,d,e){this.source=a;this._d=d;this._s=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Of(a,
this))};return a}(p),Of=function(b){function a(a,d){this._o=a;this._s=d._s;this._d=d._d;this._q=[];b.call(this)}f(a,b);a.prototype.next=function(a){var b=this._s.now();for(this._q.push({interval:b,value:a});0<this._q.length&&b-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){for(var a=this._s.now();0<this._q.length&&a-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()};
return a}(t);h.skipLastWithTime=function(b,a){w(a)||(a=F);return new Pf(this,b,a)};var Rf=function(b){function a(a,d,e){this.source=a;this._d=d;this._s=e;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return this.source.subscribe(new Qf(a,this._d,this._s))};return a}(p),Qf=function(b){function a(a,d,e){this._o=a;this._d=d;this._s=e;this._q=[];b.call(this)}f(a,b);a.prototype.next=function(a){var b=this._s.now();for(this._q.push({interval:b,value:a});0<this._q.length&&b-this._q[0].interval>=
this._d;)this._q.shift()};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){for(var a=this._s.now();0<this._q.length;){var b=this._q.shift();if(a-b.interval<=this._d)this._o.onNext(b.value)}this._o.onCompleted()};return a}(t);h.takeLastWithTime=function(b,a){w(a)||(a=F);return new Rf(this,b,a)};h.takeLastBufferWithTime=function(b,a){var c=this;w(a)||(a=F);return new A(function(d){var e=[];return c.subscribe(function(c){var d=a.now();for(e.push({interval:d,value:c});0<
e.length&&d-e[0].interval>=b;)e.shift()},function(a){d.onError(a)},function(){for(var c=a.now(),f=[];0<e.length;){var h=e.shift();c-h.interval<=b&&f.push(h.value)}d.onNext(f);d.onCompleted()})},c)};var Sf=function(b){function a(a,c,g){this.source=a;this._d=c;this._s=g;b.call(this)}function c(a,b){b.onCompleted()}f(a,b);a.prototype.subscribeCore=function(a){return new D(this._s.scheduleFuture(a,this._d,c),this.source.subscribe(a))};return a}(p);h.takeWithTime=function(b,a){w(a)||(a=F);return new Sf(this,
b,a)};var Uf=function(b){function a(a,c,g){this.source=a;this._d=c;this._s=g;this._open=!1;b.call(this)}function c(a,b){b._open=!0}f(a,b);a.prototype.subscribeCore=function(a){return new D(this._s.scheduleFuture(this,this._d,c),this.source.subscribe(new Tf(a,this)))};return a}(p),Tf=function(b){function a(a,d){this._o=a;this._p=d;b.call(this)}f(a,b);a.prototype.next=function(a){this._p._open&&this._o.onNext(a)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};
return a}(t);h.skipWithTime=function(b,a){w(a)||(a=F);return new Uf(this,b,a)};var Wf=function(b){function a(a,c,g){this.source=a;this._st=c;this._s=g;b.call(this)}function c(a,b){b._open=!0}f(a,b);a.prototype.subscribeCore=function(a){this._open=!1;return new D(this._s.scheduleFuture(this,this._st,c),this.source.subscribe(new Vf(a,this)))};return a}(p),Vf=function(b){function a(a,d){this._o=a;this._p=d;b.call(this)}f(a,b);a.prototype.next=function(a){this._p._open&&this._o.onNext(a)};a.prototype.error=
function(a){this._o.onError(a)};a.prototype.completed=function(){this._o.onCompleted()};return a}(t);h.skipUntilWithTime=function(b,a){w(a)||(a=F);return new Wf(this,b,a)};h.takeUntilWithTime=function(b,a){w(a)||(a=F);var c=this;return new A(function(d){return new D(a.scheduleFuture(d,b,function(a,b){b.onCompleted()}),c.subscribe(d))},c)};h.throttle=function(b,a){w(a)||(a=F);var c=+b||0;if(0>=c)throw new RangeError("windowDuration cannot be less or equal zero.");var d=this;return new A(function(b){var g=
0;return d.subscribe(function(d){var f=a.now();if(0===g||f-g>=c)g=f,b.onNext(d)},function(a){b.onError(a)},function(){b.onCompleted()})},d)};var Xf=function(b){function a(a,d){this._o=a;this._xform=d;b.call(this)}f(a,b);a.prototype.next=function(a){a=m(this._xform["@@transducer/step"]).call(this._xform,this._o,a);if(a===n)this._o.onError(a.e)};a.prototype.error=function(a){this._o.onError(a)};a.prototype.completed=function(){this._xform["@@transducer/result"](this._o)};return a}(t);h.transduce=function(b){var a=
this;return new A(function(c){var d=b(Pc(c));return a.subscribe(new Xf(c,d))},a)};var Zf=function(b){function a(a){this.source=a;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){var b=new v,e=new K;a={hasCurrent:!1,isStopped:!1,o:a,g:e};e.add(b);b.setDisposable(this.source.subscribe(new Yf(a)));return e};return a}(p),Yf=function(b){function a(a){this._s=a;b.call(this)}function c(a,c){this._s=a;this._i=c;b.call(this)}f(a,b);a.prototype.next=function(a){if(!this._s.hasCurrent){this._s.hasCurrent=
!0;y(a)&&(a=z(a));var b=new v;this._s.g.add(b);b.setDisposable(a.subscribe(new c(this._s,b)))}};a.prototype.error=function(a){this._s.o.onError(a)};a.prototype.completed=function(){this._s.isStopped=!0;!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()};f(c,b);c.prototype.next=function(a){this._s.o.onNext(a)};c.prototype.error=function(a){this._s.o.onError(a)};c.prototype.completed=function(){this._s.g.remove(this._i);this._s.hasCurrent=!1;this._s.isStopped&&1===this._s.g.length&&
this._s.o.onCompleted()};return a}(t);h.switchFirst=function(){return new Zf(this)};h.flatMapFirst=h.selectManyFirst=function(b,a,c){return(new Ra(this,b,a,c)).switchFirst()};l.Observable.prototype.flatMapWithMaxConcurrent=function(b,a,c,d){return(new Ra(this,a,c,d)).merge(b)};var $f=l.VirtualTimeScheduler=function(b){function a(a,c){this.clock=a;this.comparer=c;this.isEnabled=!1;this.queue=new Fa(1024);b.call(this)}f(a,b);var c=a.prototype;c.now=function(){return this.toAbsoluteTime(this.clock)};
c.schedule=function(a,b){return this.scheduleAbsolute(a,this.clock,b)};c.scheduleFuture=function(a,b,c){b=b instanceof Date?this.toRelativeTime(b-this.now()):this.toRelativeTime(b);return this.scheduleRelative(a,b,c)};c.add=qa;c.toAbsoluteTime=qa;c.toRelativeTime=qa;c.schedulePeriodic=function(a,b,c){return(new Wc(this,a,b,c)).start()};c.scheduleRelative=function(a,b,c){b=this.add(this.clock,b);return this.scheduleAbsolute(a,b,c)};c.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var a=
this.getNext();null!==a?(0<this.comparer(a.dueTime,this.clock)&&(this.clock=a.dueTime),a.invoke()):this.isEnabled=!1}while(this.isEnabled)}};c.stop=function(){this.isEnabled=!1};c.advanceTo=function(a){var b=this.comparer(this.clock,a);if(0<this.comparer(this.clock,a))throw new T;if(0!==b&&!this.isEnabled){this.isEnabled=!0;do b=this.getNext(),null!==b&&0>=this.comparer(b.dueTime,a)?(0<this.comparer(b.dueTime,this.clock)&&(this.clock=b.dueTime),b.invoke()):this.isEnabled=!1;while(this.isEnabled);
this.clock=a}};c.advanceBy=function(a){a=this.add(this.clock,a);var b=this.comparer(this.clock,a);if(0<b)throw new T;0!==b&&this.advanceTo(a)};c.sleep=function(a){a=this.add(this.clock,a);if(0<=this.comparer(this.clock,a))throw new T;this.clock=a};c.getNext=function(){for(;0<this.queue.length;){var a=this.queue.peek();if(a.isCancelled())this.queue.dequeue();else return a}return null};c.scheduleAbsolute=function(a,b,c){var f=this,h=new ya(this,a,function(a,b){f.queue.remove(h);return c(a,b)},b,this.comparer);
this.queue.enqueue(h);return h.disposable};return a}(U);l.HistoricalScheduler=function(b){function a(a,c){b.call(this,null==a?0:a,c||Pa)}f(a,b);var c=a.prototype;c.add=function(a,b){return a+b};c.toAbsoluteTime=function(a){return(new Date(a)).getTime()};c.toRelativeTime=function(a){return a};return a}(l.VirtualTimeScheduler);Pb.prototype.equals=function(b){return b===this?!0:null==b||"N"!==b.kind?!1:this.predicate(b.value)};Qb.prototype.equals=function(b){return b===this?!0:null==b||"E"!==b.kind?
!1:this.predicate(b.error)};var nb=l.ReactiveTest={created:100,subscribed:200,disposed:1E3,onNext:function(b,a){return"function"===typeof a?new aa(b,new Pb(a)):new aa(b,S.createOnNext(a))},onError:function(b,a){return"function"===typeof a?new aa(b,new Qb(a)):new aa(b,S.createOnError(a))},onCompleted:function(b){return new aa(b,S.createOnCompleted())},subscribe:function(b,a){return new ba(b,a)}},aa=l.Recorded=function(b,a,c){this.time=b;this.value=a;this.comparer=c||Oa};aa.prototype.equals=function(b){return this.time===
b.time&&this.comparer(this.value,b.value)};aa.prototype.toString=function(){return this.value.toString()+"@"+this.time};var ba=l.Subscription=function(b,a){this.subscribe=b;this.unsubscribe=a||Number.MAX_VALUE};ba.prototype.equals=function(b){return this.subscribe===b.subscribe&&this.unsubscribe===b.unsubscribe};ba.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};(l.MockDisposable=function(b){this.scheduler=b;this.disposes=
[];this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var ag=function(b){function a(a){b.call(this);this.scheduler=a;this.messages=[]}f(a,b);var c=a.prototype;c.onNext=function(a){this.messages.push(new aa(this.scheduler.clock,S.createOnNext(a)))};c.onError=function(a){this.messages.push(new aa(this.scheduler.clock,S.createOnError(a)))};c.onCompleted=function(){this.messages.push(new aa(this.scheduler.clock,S.createOnCompleted()))};return a}(Q);
Da.prototype.then=function(b,a){var c=this;this.subscriptions.push(new ba(this.scheduler.clock));var d=this.subscriptions.length-1,e,g=l.Observer.create(function(a){(a=b(a))&&"function"===typeof a.then?e=a:(a=c.scheduler.clock,e=new Da(c.scheduler,[l.ReactiveTest.onNext(a,L),l.ReactiveTest.onCompleted(a)]));a=c.observers.indexOf(g);c.observers.splice(a,1);c.subscriptions[d]=new ba(c.subscriptions[d].subscribe,c.scheduler.clock)},function(b){a(b);b=c.observers.indexOf(g);c.observers.splice(b,1);c.subscriptions[d]=
new ba(c.subscriptions[d].subscribe,c.scheduler.clock)});this.observers.push(g);return e||new Da(this.scheduler,this.messages)};var bg=function(b){function a(a,d){b.call(this);var e,g,f=this;this.scheduler=a;this.messages=d;this.subscriptions=[];this.observers=[];for(var h=0,l=this.messages.length;h<l;h++)e=this.messages[h],g=e.value,function(b){a.scheduleAbsolute(null,e.time,function(){for(var a=f.observers.slice(0),c=0,d=a.length;c<d;c++)b.accept(a[c]);return E})}(g)}f(a,b);a.prototype._subscribe=
function(a){var b=this;this.observers.push(a);this.subscriptions.push(new ba(this.scheduler.clock));var e=this.subscriptions.length-1;return ia(function(){var f=b.observers.indexOf(a);b.observers.splice(f,1);b.subscriptions[e]=new ba(b.subscriptions[e].subscribe,b.scheduler.clock)})};return a}(r),cg=function(b){function a(a,d){b.call(this);this.scheduler=a;this.messages=d;this.subscriptions=[]}f(a,b);a.prototype._subscribe=function(a){var b,e,f=this;this.subscriptions.push(new ba(this.scheduler.clock));
for(var h=this.subscriptions.length-1,l=new K,m=0,n=this.messages.length;m<n;m++)b=this.messages[m],e=b.value,function(e){l.add(f.scheduler.scheduleRelative(null,b.time,function(){e.accept(a);return E}))}(e);return ia(function(){f.subscriptions[h]=new ba(f.subscriptions[h].subscribe,f.scheduler.clock);l.dispose()})};return a}(r);l.TestScheduler=function(b){function a(a,b){return a>b?1:a<b?-1:0}function c(){b.call(this,0,a)}f(c,b);c.prototype.scheduleAbsolute=function(a,c,f){c<=this.clock&&(c=this.clock+
1);return b.prototype.scheduleAbsolute.call(this,a,c,f)};c.prototype.add=function(a,b){return a+b};c.prototype.toAbsoluteTime=function(a){return(new Date(a)).getTime()};c.prototype.toRelativeTime=function(a){return a};c.prototype.startScheduler=function(a,b){b||(b={});null==b.created&&(b.created=nb.created);null==b.subscribed&&(b.subscribed=nb.subscribed);null==b.disposed&&(b.disposed=nb.disposed);var c=this.createObserver(),f,h;this.scheduleAbsolute(null,b.created,function(){f=a();return E});this.scheduleAbsolute(null,
b.subscribed,function(){h=f.subscribe(c);return E});this.scheduleAbsolute(null,b.disposed,function(){h.dispose();return E});this.start();return c};c.prototype.createHotObservable=function(){var a=arguments.length,b;if(Array.isArray(arguments[0]))b=arguments[0];else{b=Array(a);for(var c=0;c<a;c++)b[c]=arguments[c]}return new bg(this,b)};c.prototype.createColdObservable=function(){var a=arguments.length,b;if(Array.isArray(arguments[0]))b=arguments[0];else{b=Array(a);for(var c=0;c<a;c++)b[c]=arguments[c]}return new cg(this,
b)};c.prototype.createResolvedPromise=function(a,b){return new Da(this,[l.ReactiveTest.onNext(a,b),l.ReactiveTest.onCompleted(a)])};c.prototype.createRejectedPromise=function(a,b){return new Da(this,[l.ReactiveTest.onError(a,b)])};c.prototype.createObserver=function(){return new ag(this)};return c}($f);var A=l.AnonymousObservable=function(b){function a(a){return a&&u(a.dispose)?a:u(a)?ia(a):E}function c(b,c){var d=c[0],f=c[1],f=m(f.__subscribe).call(f,d);f!==n||d.fail(n.e)||O(n.e);d.setDisposable(a(f))}
function d(a,c){this.source=c;this.__subscribe=a;b.call(this)}f(d,b);d.prototype._subscribe=function(a){a=new bc(a);var b=[a,this];N.scheduleRequired()?N.schedule(b,c):c(null,b);return a};return d}(r),bc=function(b){function a(a){b.call(this);this.observer=a;this.m=new v}f(a,b);var c=a.prototype;c.next=function(a){a=m(this.observer.onNext).call(this.observer,a);a===n&&(this.dispose(),O(a.e))};c.error=function(a){a=m(this.observer.onError).call(this.observer,a);this.dispose();a===n&&O(a.e)};c.completed=
function(){var a=m(this.observer.onCompleted).call(this.observer);this.dispose();a===n&&O(a.e)};c.setDisposable=function(a){this.m.setDisposable(a)};c.getDisposable=function(){return this.m.getDisposable()};c.dispose=function(){b.prototype.dispose.call(this);this.m.dispose()};return a}(t),dg=function(b){function a(a,d){this._m=a;this._u=d;b.call(this)}f(a,b);a.prototype.subscribeCore=function(a){return new D(this._m.getDisposable(),this._u.subscribe(a))};return a}(p),ec=function(b){function a(a,d,
e){b.call(this);this.key=a;this.underlyingObservable=e?new dg(e,d):d}f(a,b);a.prototype._subscribe=function(a){return this.underlyingObservable.subscribe(a)};return a}(r),M=l.Subject=function(b){function a(){b.call(this);this.isStopped=this.isDisposed=!1;this.observers=[];this.hasError=!1}f(a,b);ra(a.prototype,Q.prototype,{_subscribe:function(a){P(this);if(!this.isStopped)return this.observers.push(a),new Sa(this,a);if(this.hasError)return a.onError(this.error),E;a.onCompleted();return E},hasObservers:function(){return 0<
this.observers.length},onCompleted:function(){P(this);if(!this.isStopped){this.isStopped=!0;for(var a=0,b=W(this.observers),e=b.length;a<e;a++)b[a].onCompleted();this.observers.length=0}},onError:function(a){P(this);if(!this.isStopped){this.isStopped=!0;this.error=a;this.hasError=!0;for(var b=0,e=W(this.observers),f=e.length;b<f;b++)e[b].onError(a);this.observers.length=0}},onNext:function(a){P(this);if(!this.isStopped)for(var b=0,e=W(this.observers),f=e.length;b<f;b++)e[b].onNext(a)},dispose:function(){this.isDisposed=
!0;this.observers=null}});a.create=function(a,b){return new eg(a,b)};return a}(r),Aa=l.AsyncSubject=function(b){function a(){b.call(this);this.hasValue=this.isStopped=this.isDisposed=!1;this.observers=[];this.hasError=!1}f(a,b);ra(a.prototype,Q.prototype,{_subscribe:function(a){P(this);if(!this.isStopped)return this.observers.push(a),new Sa(this,a);if(this.hasError)a.onError(this.error);else{if(this.hasValue)a.onNext(this.value);a.onCompleted()}return E},hasObservers:function(){P(this);return 0<this.observers.length},
onCompleted:function(){var a,b;P(this);if(!this.isStopped){this.isStopped=!0;var e=W(this.observers);b=e.length;if(this.hasValue)for(a=0;a<b;a++){var f=e[a];f.onNext(this.value);f.onCompleted()}else for(a=0;a<b;a++)e[a].onCompleted();this.observers.length=0}},onError:function(a){P(this);if(!this.isStopped){this.hasError=this.isStopped=!0;this.error=a;for(var b=0,e=W(this.observers),f=e.length;b<f;b++)e[b].onError(a);this.observers.length=0}},onNext:function(a){P(this);this.isStopped||(this.value=
a,this.hasValue=!0)},dispose:function(){this.isDisposed=!0;this.value=this.error=this.observers=null}});return a}(r),jc=l.BehaviorSubject=function(b){function a(a){b.call(this);this.value=a;this.observers=[];this.hasError=this.isStopped=this.isDisposed=!1}f(a,b);ra(a.prototype,Q.prototype,{_subscribe:function(a){P(this);if(!this.isStopped)return this.observers.push(a),a.onNext(this.value),new Sa(this,a);if(this.hasError)a.onError(this.error);else a.onCompleted();return E},getValue:function(){P(this);
this.hasError&&O(this.error);return this.value},hasObservers:function(){return 0<this.observers.length},onCompleted:function(){P(this);if(!this.isStopped){this.isStopped=!0;for(var a=0,b=W(this.observers),e=b.length;a<e;a++)b[a].onCompleted();this.observers.length=0}},onError:function(a){P(this);if(!this.isStopped){this.hasError=this.isStopped=!0;this.error=a;for(var b=0,e=W(this.observers),f=e.length;b<f;b++)e[b].onError(a);this.observers.length=0}},onNext:function(a){P(this);if(!this.isStopped){this.value=
a;for(var b=0,e=W(this.observers),f=e.length;b<f;b++)e[b].onNext(a)}},dispose:function(){this.isDisposed=!0;this.error=this.value=this.observers=null}});return a}(r),kc=l.ReplaySubject=function(b){function a(a,b){return ia(function(){b.dispose();!a.isDisposed&&a.observers.splice(a.observers.indexOf(b),1)})}function c(a,c,f){this.bufferSize=null==a?d:a;this.windowSize=null==c?d:c;this.scheduler=f||N;this.q=[];this.observers=[];this.hasError=this.isDisposed=this.isStopped=!1;this.error=null;b.call(this)}
var d=Math.pow(2,53)-1;f(c,b);ra(c.prototype,Q.prototype,{_subscribe:function(b){P(this);b=new ac(this.scheduler,b);var c=a(this,b);this._trim(this.scheduler.now());this.observers.push(b);for(var d=0,f=this.q.length;d<f;d++)b.onNext(this.q[d].value);if(this.hasError)b.onError(this.error);else if(this.isStopped)b.onCompleted();b.ensureActive();return c},hasObservers:function(){return 0<this.observers.length},_trim:function(a){for(;this.q.length>this.bufferSize;)this.q.shift();for(;0<this.q.length&&
a-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(a){P(this);if(!this.isStopped){var b=this.scheduler.now();this.q.push({interval:b,value:a});this._trim(b);for(var b=0,c=W(this.observers),d=c.length;b<d;b++){var f=c[b];f.onNext(a);f.ensureActive()}}},onError:function(a){P(this);if(!this.isStopped){this.isStopped=!0;this.error=a;this.hasError=!0;var b=this.scheduler.now();this._trim(b);for(var b=0,c=W(this.observers),d=c.length;b<d;b++){var f=c[b];f.onError(a);f.ensureActive()}this.observers.length=
0}},onCompleted:function(){P(this);if(!this.isStopped){this.isStopped=!0;var a=this.scheduler.now();this._trim(a);for(var a=0,b=W(this.observers),c=b.length;a<c;a++){var d=b[a];d.onCompleted();d.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0;this.observers=null}});return c}(r),eg=l.AnonymousSubject=function(b){function a(a,d){this.observer=a;this.observable=d;b.call(this)}f(a,b);ra(a.prototype,Q.prototype,{_subscribe:function(a){return this.observable.subscribe(a)},
onCompleted:function(){this.observer.onCompleted()},onError:function(a){this.observer.onError(a)},onNext:function(a){this.observer.onNext(a)}});return a}(r);l.Pauser=function(b){function a(){b.call(this)}f(a,b);a.prototype.pause=function(){this.onNext(!1)};a.prototype.resume=function(){this.onNext(!0)};return a}(M);"function"==typeof define&&"object"==typeof define.amd&&define.amd?(B.Rx=l,define(function(){return l})):va&&wa?Sb?(wa.exports=l).Rx=l:va.Rx=l:B.Rx=l;var ed=ob()}).call(this);
